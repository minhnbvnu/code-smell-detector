function _setup_tone_curves($curveatt_dB,$binHz,$n,$center_boost,$center_decay_rate) {
 $curveatt_dB = $curveatt_dB|0;
 $binHz = +$binHz;
 $n = $n|0;
 $center_boost = +$center_boost;
 $center_decay_rate = +$center_decay_rate;
 var $$$$us$us$us = 0.0, $$$$us68 = 0.0, $$$us$us$us = 0.0, $$$us$us81 = 0.0, $$5 = 0, $$6 = 0, $$8 = 0, $$alloca_mul = 0, $$op = 0.0, $$op$op$op = 0.0, $$op123 = 0, $$op124 = 0, $$op125 = 0, $$op126 = 0, $0 = 0, $1 = 0, $10 = 0, $100 = 0.0, $101 = 0, $102 = 0.0;
 var $103 = 0, $104 = 0, $105 = 0, $106 = 0.0, $107 = 0, $108 = 0.0, $109 = 0, $11 = 0, $110 = 0, $111 = 0, $112 = 0, $113 = 0, $114 = 0, $115 = 0.0, $116 = 0.0, $117 = 0.0, $118 = 0.0, $119 = 0.0, $12 = 0, $120 = 0.0;
 var $121 = 0.0, $122 = 0, $123 = 0.0, $124 = 0.0, $125 = 0.0, $126 = 0.0, $127 = 0.0, $128 = 0.0, $129 = 0.0, $13 = 0, $130 = 0.0, $131 = 0, $132 = 0, $133 = 0.0, $134 = 0.0, $135 = 0.0, $136 = 0.0, $137 = 0.0, $138 = 0.0, $139 = 0.0;
 var $14 = 0, $140 = 0, $141 = 0, $142 = 0, $143 = 0, $144 = 0, $145 = 0, $146 = 0, $147 = 0.0, $148 = 0, $149 = 0, $15 = 0, $150 = 0, $151 = 0, $152 = 0.0, $153 = 0.0, $154 = 0, $155 = 0, $156 = 0.0, $157 = 0.0;
 var $158 = 0.0, $159 = 0.0, $16 = 0, $160 = 0.0, $161 = 0.0, $162 = 0.0, $163 = 0.0, $164 = 0, $165 = 0.0, $166 = 0.0, $167 = 0.0, $168 = 0.0, $169 = 0.0, $17 = 0, $170 = 0, $171 = 0, $172 = 0, $173 = 0, $174 = 0, $175 = 0;
 var $176 = 0, $177 = 0, $178 = 0, $179 = 0.0, $18 = 0, $180 = 0, $181 = 0, $182 = 0, $183 = 0, $184 = 0, $185 = 0, $186 = 0, $187 = 0, $188 = 0, $189 = 0, $19 = 0, $190 = 0, $191 = 0, $192 = 0, $193 = 0;
 var $194 = 0, $195 = 0, $196 = 0.0, $197 = 0, $198 = 0, $199 = 0, $2 = 0, $20 = 0, $200 = 0, $201 = 0.0, $202 = 0, $203 = 0, $204 = 0, $205 = 0, $206 = 0, $207 = 0, $208 = 0, $209 = 0, $21 = 0, $210 = 0;
 var $211 = 0.0, $212 = 0.0, $213 = 0.0, $214 = 0.0, $215 = 0.0, $216 = 0.0, $217 = 0.0, $218 = 0.0, $219 = 0, $22 = 0, $220 = 0.0, $221 = 0.0, $222 = 0.0, $223 = 0.0, $224 = 0.0, $225 = 0, $226 = 0, $227 = 0, $228 = 0, $229 = 0;
 var $23 = 0, $230 = 0, $231 = 0, $232 = 0, $233 = 0, $234 = 0.0, $235 = 0, $236 = 0, $237 = 0, $238 = 0, $239 = 0, $24 = 0, $240 = 0, $241 = 0, $242 = 0, $243 = 0, $244 = 0, $245 = 0, $246 = 0, $247 = 0;
 var $248 = 0, $249 = 0, $25 = 0, $250 = 0, $251 = 0.0, $252 = 0, $253 = 0, $254 = 0, $255 = 0, $256 = 0.0, $257 = 0, $258 = 0, $259 = 0, $26 = 0.0, $260 = 0.0, $261 = 0, $262 = 0.0, $263 = 0.0, $264 = 0.0, $265 = 0.0;
 var $266 = 0.0, $267 = 0.0, $268 = 0, $269 = 0, $27 = 0, $270 = 0, $271 = 0, $272 = 0, $273 = 0, $274 = 0, $275 = 0, $276 = 0, $277 = 0, $278 = 0, $279 = 0, $28 = 0, $280 = 0, $281 = 0, $282 = 0, $283 = 0;
 var $284 = 0.0, $285 = 0, $286 = 0, $287 = 0, $288 = 0.0, $289 = 0, $29 = 0, $290 = 0, $291 = 0, $292 = 0.0, $293 = 0, $294 = 0, $295 = 0, $296 = 0.0, $297 = 0, $298 = 0, $299 = 0.0, $3 = 0, $30 = 0, $300 = 0;
 var $301 = 0, $302 = 0.0, $303 = 0, $304 = 0, $305 = 0.0, $306 = 0, $307 = 0, $308 = 0.0, $309 = 0, $31 = 0, $310 = 0, $311 = 0.0, $312 = 0, $313 = 0, $314 = 0.0, $315 = 0, $316 = 0, $317 = 0.0, $318 = 0, $319 = 0;
 var $32 = 0.0, $320 = 0.0, $321 = 0, $322 = 0, $323 = 0.0, $324 = 0, $325 = 0, $326 = 0.0, $327 = 0, $328 = 0, $329 = 0.0, $33 = 0.0, $330 = 0, $331 = 0, $332 = 0.0, $333 = 0, $334 = 0, $335 = 0.0, $336 = 0, $337 = 0;
 var $338 = 0, $339 = 0.0, $34 = 0.0, $340 = 0, $341 = 0, $342 = 0, $343 = 0, $344 = 0, $345 = 0.0, $346 = 0, $347 = 0, $348 = 0, $349 = 0, $35 = 0, $350 = 0, $351 = 0.0, $352 = 0, $353 = 0, $354 = 0, $36 = 0;
 var $37 = 0.0, $38 = 0.0, $39 = 0, $4 = 0, $40 = 0, $41 = 0, $42 = 0.0, $43 = 0.0, $44 = 0.0, $45 = 0, $46 = 0, $47 = 0, $48 = 0.0, $49 = 0.0, $5 = 0.0, $50 = 0, $51 = 0, $52 = 0.0, $53 = 0.0, $54 = 0;
 var $55 = 0, $56 = 0.0, $57 = 0.0, $58 = 0.0, $59 = 0, $6 = 0, $60 = 0, $61 = 0.0, $62 = 0.0, $63 = 0, $64 = 0, $65 = 0, $66 = 0.0, $67 = 0.0, $68 = 0.0, $69 = 0, $7 = 0, $70 = 0.0, $71 = 0.0, $72 = 0;
 var $73 = 0, $74 = 0, $75 = 0.0, $76 = 0.0, $77 = 0.0, $78 = 0.0, $79 = 0, $8 = 0, $80 = 0.0, $81 = 0.0, $82 = 0, $83 = 0, $84 = 0.0, $85 = 0.0, $86 = 0.0, $87 = 0, $88 = 0.0, $89 = 0.0, $9 = 0, $90 = 0;
 var $91 = 0, $92 = 0.0, $93 = 0, $94 = 0.0, $95 = 0, $96 = 0, $97 = 0, $98 = 0, $99 = 0, $ath = 0, $athc = 0, $exitcond = 0, $exitcond$i = 0, $exitcond$i11 = 0, $exitcond$i13 = 0, $exitcond$i16 = 0, $exitcond$i18 = 0, $exitcond104 = 0, $exitcond105 = 0, $exitcond106 = 0;
 var $exitcond107 = 0, $exitcond108 = 0, $exitcond109 = 0, $exitcond111 = 0, $exitcond113 = 0, $exitcond114 = 0, $exitcond115 = 0, $exitcond116 = 0, $exitcond117 = 0, $exitcond118 = 0, $exitcond119 = 0, $exitcond120 = 0, $exitcond121 = 0, $exitcond95 = 0, $exitcond96 = 0, $exitcond97 = 0, $hi_bin$0 = 0, $hi_bin3$0 = 0, $i$01$i = 0, $i$01$i10 = 0;
 var $i$01$i12 = 0, $i$01$i15 = 0, $i$01$i17 = 0, $i$088 = 0, $i$1$ = 0, $i$158 = 0, $ispos = 0, $ispos$us$us$us = 0, $ispos$us$us79 = 0, $ispos$us65 = 0, $j$061 = 0, $j$10$lcssa = 0, $j$1054 = 0, $j$269 = 0, $j$269$us = 0, $j$386 = 0, $j$487 = 0, $j$533 = 0, $j$638 = 0, $j$749 = 0;
 var $j$852 = 0, $j$9$lcssa = 0.0, $k$163 = 0, $k$163$us$us$us = 0, $k$163$us$us78 = 0, $k$163$us64 = 0, $k$241 = 0, $l$037 = 0, $l$2$lcssa = 0, $l$2$lcssa$lcssa = 0, $l$235 = 0, $l$339 = 0, $l1$048 = 0, $l1$2$lcssa = 0, $l1$2$lcssa$lcssa = 0, $l1$244 = 0, $l1$350 = 0, $lo_bin$1 = 0, $lo_bin$1$l$0 = 0, $lo_bin2$1 = 0;
 var $lo_bin2$1$l1$0 = 0, $lo_curve$1 = 0, $m$055 = 0, $min$1 = 0.0, $min$1$1 = 0.0, $min$1$2 = 0.0, $min$1$3 = 0.0, $n$hi_bin$0 = 0, $n$hi_bin3$0 = 0, $neg = 0, $neg$us$us$us = 0, $neg$us$us80 = 0, $neg$us66 = 0, $or$cond734 = 0, $or$cond943 = 0, $smax100 = 0, $smax102 = 0, $smax92 = 0, $smax94 = 0, $umax = 0;
 var $umax103 = 0, $workc = 0, label = 0, sp = 0;
 sp = STACKTOP;
 STACKTOP = STACKTOP + 32480|0;
 $ath = sp + 32256|0;
 $workc = sp + 1792|0;
 $athc = sp;
 $0 = $n << 2;
 $$alloca_mul = $0;
 $1 = STACKTOP; STACKTOP = STACKTOP + ((((1*$$alloca_mul)|0)+15)&-16)|0;;
 $2 = (_malloc(68)|0);
 _memset(($workc|0),0,30464)|0;
 $3 = $center_boost > 0.0;
 $4 = $center_boost < 0.0;
 $i$088 = 0;
 while(1) {
  $8 = $i$088 << 2;
  $j$061 = 0;
  while(1) {
   $23 = (($j$061) + ($8))|0;
   $24 = ($23|0)<(88);
   if ($24) {
    $25 = (1272 + ($23<<2)|0);
    $26 = +HEAPF32[$25>>2];
    $min$1 = $26;
   } else {
    $min$1 = -30.0;
   }
   $27 = (($23) + 1)|0;
   $28 = ($27|0)<(88);
   if ($28) {
    $338 = (1272 + ($27<<2)|0);
    $339 = +HEAPF32[$338>>2];
    $340 = $min$1 > $339;
    if ($340) {
     $min$1$1 = $339;
    } else {
     $min$1$1 = $min$1;
    }
   } else {
    $337 = $min$1 > -30.0;
    if ($337) {
     $min$1$1 = -30.0;
    } else {
     $min$1$1 = $min$1;
    }
   }
   $341 = (($23) + 2)|0;
   $342 = ($341|0)<(88);
   if ($342) {
    $344 = (1272 + ($341<<2)|0);
    $345 = +HEAPF32[$344>>2];
    $346 = $min$1$1 > $345;
    if ($346) {
     $min$1$2 = $345;
    } else {
     $min$1$2 = $min$1$1;
    }
   } else {
    $343 = $min$1$1 > -30.0;
    if ($343) {
     $min$1$2 = -30.0;
    } else {
     $min$1$2 = $min$1$1;
    }
   }
   $347 = (($23) + 3)|0;
   $348 = ($347|0)<(88);
   if ($348) {
    $350 = (1272 + ($347<<2)|0);
    $351 = +HEAPF32[$350>>2];
    $352 = $min$1$2 > $351;
    if ($352) {
     $min$1$3 = $351;
    } else {
     $min$1$3 = $min$1$2;
    }
   } else {
    $349 = $min$1$2 > -30.0;
    if ($349) {
     $min$1$3 = -30.0;
    } else {
     $min$1$3 = $min$1$2;
    }
   }
   $353 = (($ath) + ($j$061<<2)|0);
   HEAPF32[$353>>2] = $min$1$3;
   $354 = (($j$061) + 1)|0;
   $exitcond111 = ($354|0)==(56);
   if ($exitcond111) {
    break;
   } else {
    $j$061 = $354;
   }
  }
  $9 = (((($workc) + (($i$088*1792)|0)|0)) + 448|0);
  $10 = (2792 + (($i$088*1344)|0)|0);
  _memcpy(($9|0),($10|0),224)|0;
  $11 = (((($workc) + (($i$088*1792)|0)|0)) + 672|0);
  $12 = (((2792 + (($i$088*1344)|0)|0)) + 224|0);
  _memcpy(($11|0),($12|0),224)|0;
  $13 = (((($workc) + (($i$088*1792)|0)|0)) + 896|0);
  $14 = (((2792 + (($i$088*1344)|0)|0)) + 448|0);
  _memcpy(($13|0),($14|0),224)|0;
  $15 = (((($workc) + (($i$088*1792)|0)|0)) + 1120|0);
  $16 = (((2792 + (($i$088*1344)|0)|0)) + 672|0);
  _memcpy(($15|0),($16|0),224)|0;
  $17 = (((($workc) + (($i$088*1792)|0)|0)) + 1344|0);
  $18 = (((2792 + (($i$088*1344)|0)|0)) + 896|0);
  _memcpy(($17|0),($18|0),224)|0;
  $19 = (((($workc) + (($i$088*1792)|0)|0)) + 1568|0);
  $20 = (((2792 + (($i$088*1344)|0)|0)) + 1120|0);
  _memcpy(($19|0),($20|0),224)|0;
  $21 = (($workc) + (($i$088*1792)|0)|0);
  _memcpy(($21|0),($10|0),224)|0;
  $22 = (((($workc) + (($i$088*1792)|0)|0)) + 224|0);
  _memcpy(($22|0),($10|0),224)|0;
  if ($3) {
   $j$269$us = 0;
   while(1) {
    if ($4) {
     $k$163$us$us$us = 0;
     while(1) {
      $40 = (16 - ($k$163$us$us$us))|0;
      $ispos$us$us$us = ($40|0)>(-1);
      $neg$us$us$us = (0 - ($40))|0;
      $41 = $ispos$us$us$us ? $40 : $neg$us$us$us;
      $42 = (+($41|0));
      $43 = $42 * $center_decay_rate;
      $44 = $43 + $center_boost;
      $45 = $44 < 0.0;
      $$$us$us$us = $45 ? 0.0 : $44;
      $46 = $$$us$us$us > 0.0;
      $$$$us$us$us = $46 ? 0.0 : $$$us$us$us;
      $47 = (((($workc) + (($i$088*1792)|0)|0) + (($j$269$us*224)|0)|0) + ($k$163$us$us$us<<2)|0);
      $48 = +HEAPF32[$47>>2];
      $49 = $48 + $$$$us$us$us;
      HEAPF32[$47>>2] = $49;
      $50 = (($k$163$us$us$us) + 1)|0;
      $exitcond119 = ($50|0)==(56);
      if ($exitcond119) {
       break;
      } else {
       $k$163$us$us$us = $50;
      }
     }
    } else {
     $k$163$us$us78 = 0;
     while(1) {
      $30 = (16 - ($k$163$us$us78))|0;
      $ispos$us$us79 = ($30|0)>(-1);
      $neg$us$us80 = (0 - ($30))|0;
      $31 = $ispos$us$us79 ? $30 : $neg$us$us80;
      $32 = (+($31|0));
      $33 = $32 * $center_decay_rate;
      $34 = $33 + $center_boost;
      $35 = $34 < 0.0;
      $$$us$us81 = $35 ? 0.0 : $34;
      $36 = (((($workc) + (($i$088*1792)|0)|0) + (($j$269$us*224)|0)|0) + ($k$163$us$us78<<2)|0);
      $37 = +HEAPF32[$36>>2];
      $38 = $37 + $$$us$us81;
      HEAPF32[$36>>2] = $38;
      $39 = (($k$163$us$us78) + 1)|0;
      $exitcond118 = ($39|0)==(56);
      if ($exitcond118) {
       break;
      } else {
       $k$163$us$us78 = $39;
      }
     }
    }
    $29 = (($j$269$us) + 1)|0;
    $exitcond120 = ($29|0)==(8);
    if ($exitcond120) {
     break;
    } else {
     $j$269$us = $29;
    }
   }
  } else {
   $j$269 = 0;
   while(1) {
    if ($4) {
     $k$163$us64 = 0;
     while(1) {
      $54 = (16 - ($k$163$us64))|0;
      $ispos$us65 = ($54|0)>(-1);
      $neg$us66 = (0 - ($54))|0;
      $55 = $ispos$us65 ? $54 : $neg$us66;
      $56 = (+($55|0));
      $57 = $56 * $center_decay_rate;
      $58 = $57 + $center_boost;
      $59 = $58 > 0.0;
      $$$$us68 = $59 ? 0.0 : $58;
      $60 = (((($workc) + (($i$088*1792)|0)|0) + (($j$269*224)|0)|0) + ($k$163$us64<<2)|0);
      $61 = +HEAPF32[$60>>2];
      $62 = $61 + $$$$us68;
      HEAPF32[$60>>2] = $62;
      $63 = (($k$163$us64) + 1)|0;
      $exitcond114 = ($63|0)==(56);
      if ($exitcond114) {
       break;
      } else {
       $k$163$us64 = $63;
      }
     }
    } else {
     $k$163 = 0;
     while(1) {
      $64 = (16 - ($k$163))|0;
      $ispos = ($64|0)>(-1);
      $neg = (0 - ($64))|0;
      $65 = $ispos ? $64 : $neg;
      $66 = (+($65|0));
      $67 = $66 * $center_decay_rate;
      $68 = $67 + $center_boost;
      $69 = (((($workc) + (($i$088*1792)|0)|0) + (($j$269*224)|0)|0) + ($k$163<<2)|0);
      $70 = +HEAPF32[$69>>2];
      $71 = $70 + $68;
      HEAPF32[$69>>2] = $71;
      $72 = (($k$163) + 1)|0;
      $exitcond113 = ($72|0)==(56);
      if ($exitcond113) {
       break;
      } else {
       $k$163 = $72;
      }
     }
    }
    $73 = (($j$269) + 1)|0;
    $exitcond115 = ($73|0)==(8);
    if ($exitcond115) {
     break;
    } else {
     $j$269 = $73;
    }
   }
  }
  $51 = (($curveatt_dB) + ($i$088<<2)|0);
  $52 = +HEAPF32[$51>>2];
  $53 = $52;
  $j$386 = 0;
  while(1) {
   $74 = ($j$386|0)<(2);
   $75 = (+($j$386|0));
   $$op = $75 * 10.0;
   $$op$op$op = 70.0 - $$op;
   $76 = $74 ? 50.0 : $$op$op$op;
   $77 = $76 + $53;
   $78 = $77;
   $i$01$i = 0;
   while(1) {
    $79 = (((($workc) + (($i$088*1792)|0)|0) + (($j$386*224)|0)|0) + ($i$01$i<<2)|0);
    $80 = +HEAPF32[$79>>2];
    $81 = $80 + $78;
    HEAPF32[$79>>2] = $81;
    $82 = (($i$01$i) + 1)|0;
    $exitcond$i = ($82|0)==(56);
    if ($exitcond$i) {
     break;
    } else {
     $i$01$i = $82;
    }
   }
   $83 = (($athc) + (($j$386*224)|0)|0);
   _memcpy(($83|0),($ath|0),224)|0;
   $84 = (+($j$386|0));
   $85 = $84 * 10.0;
   $86 = 70.0 - $85;
   $i$01$i17 = 0;
   while(1) {
    $87 = ((($athc) + (($j$386*224)|0)|0) + ($i$01$i17<<2)|0);
    $88 = +HEAPF32[$87>>2];
    $89 = $86 + $88;
    HEAPF32[$87>>2] = $89;
    $90 = (($i$01$i17) + 1)|0;
    $exitcond$i18 = ($90|0)==(56);
    if ($exitcond$i18) {
     $i$01$i15 = 0;
     break;
    } else {
     $i$01$i17 = $90;
    }
   }
   while(1) {
    $91 = (((($workc) + (($i$088*1792)|0)|0) + (($j$386*224)|0)|0) + ($i$01$i15<<2)|0);
    $92 = +HEAPF32[$91>>2];
    $93 = ((($athc) + (($j$386*224)|0)|0) + ($i$01$i15<<2)|0);
    $94 = +HEAPF32[$93>>2];
    $95 = $92 > $94;
    if ($95) {
     HEAPF32[$93>>2] = $92;
    }
    $96 = (($i$01$i15) + 1)|0;
    $exitcond$i16 = ($96|0)==(56);
    if ($exitcond$i16) {
     break;
    } else {
     $i$01$i15 = $96;
    }
   }
   $97 = (($j$386) + 1)|0;
   $exitcond116 = ($97|0)==(8);
   if ($exitcond116) {
    $j$487 = 1;
    break;
   } else {
    $j$386 = $97;
   }
  }
  while(1) {
   $98 = (($j$487) + -1)|0;
   $i$01$i12 = 0;
   while(1) {
    $99 = ((($athc) + (($98*224)|0)|0) + ($i$01$i12<<2)|0);
    $100 = +HEAPF32[$99>>2];
    $101 = ((($athc) + (($j$487*224)|0)|0) + ($i$01$i12<<2)|0);
    $102 = +HEAPF32[$101>>2];
    $103 = $100 < $102;
    if ($103) {
     HEAPF32[$101>>2] = $100;
    }
    $104 = (($i$01$i12) + 1)|0;
    $exitcond$i13 = ($104|0)==(56);
    if ($exitcond$i13) {
     $i$01$i10 = 0;
     break;
    } else {
     $i$01$i12 = $104;
    }
   }
   while(1) {
    $105 = ((($athc) + (($j$487*224)|0)|0) + ($i$01$i10<<2)|0);
    $106 = +HEAPF32[$105>>2];
    $107 = (((($workc) + (($i$088*1792)|0)|0) + (($j$487*224)|0)|0) + ($i$01$i10<<2)|0);
    $108 = +HEAPF32[$107>>2];
    $109 = $106 < $108;
    if ($109) {
     HEAPF32[$107>>2] = $106;
    }
    $110 = (($i$01$i10) + 1)|0;
    $exitcond$i11 = ($110|0)==(56);
    if ($exitcond$i11) {
     break;
    } else {
     $i$01$i10 = $110;
    }
   }
   $111 = (($j$487) + 1)|0;
   $exitcond117 = ($111|0)==(8);
   if ($exitcond117) {
    break;
   } else {
    $j$487 = $111;
   }
  }
  $112 = (($i$088) + 1)|0;
  $exitcond121 = ($112|0)==(17);
  if ($exitcond121) {
   break;
  } else {
   $i$088 = $112;
  }
 }
 $5 = $binHz;
 $6 = ($n|0)>(0);
 $7 = $n ^ -1;
 $i$158 = 0;
 while(1) {
  $113 = (_malloc(32)|0);
  $114 = (($2) + ($i$158<<2)|0);
  HEAP32[$114>>2] = $113;
  $115 = (+($i$158|0));
  $116 = $115 * 0.5;
  $117 = $115 * 0.34657350182533264;
  $118 = $117 + 4.1351653545408453;
  $119 = (+Math_exp((+$118)));
  $120 = $119 / $5;
  $121 = (+Math_floor((+$120)));
  $122 = (~~(($121)));
  $123 = (+($122|0));
  $124 = $123 * $binHz;
  $125 = $124 + 1.0;
  $126 = $125;
  $127 = (+Math_log((+$126)));
  $128 = $127 * 2.885390043258667;
  $129 = $128 + -11.931568145751953;
  $130 = (+Math_ceil((+$129)));
  $131 = (~~(($130)));
  $132 = (($122) + 1)|0;
  $133 = (+($132|0));
  $134 = $133 * $binHz;
  $135 = $134;
  $136 = (+Math_log((+$135)));
  $137 = $136 * 2.885390043258667;
  $138 = $137 + -11.931568145751953;
  $139 = (+Math_floor((+$138)));
  $140 = (~~(($139)));
  $141 = ($131|0)>($i$158|0);
  $i$1$ = $141 ? $i$158 : $131;
  $142 = ($i$1$|0)<(0);
  $lo_curve$1 = $142 ? 0 : $i$1$;
  $143 = ($140|0)>(16);
  $$5 = $143 ? 16 : $140;
  $144 = ($lo_curve$1|0)>($$5|0);
  $145 = (($i$158) + 1)|0;
  $146 = ($145|0)<(17);
  $147 = $116 + 3.9657840728759766;
  $m$055 = 0;
  while(1) {
   $148 = (_malloc(232)|0);
   $149 = (($113) + ($m$055<<2)|0);
   HEAP32[$149>>2] = $148;
   if ($6) {
    $j$533 = 0;
    while(1) {
     $150 = (($1) + ($j$533<<2)|0);
     HEAPF32[$150>>2] = 999.0;
     $151 = (($j$533) + 1)|0;
     $exitcond = ($151|0)==($n|0);
     if ($exitcond) {
      break;
     } else {
      $j$533 = $151;
     }
    }
   }
   if (!($144)) {
    $k$241 = $lo_curve$1;
    while(1) {
     $152 = (+($k$241|0));
     $153 = $152 * 0.5;
     $j$638 = 0;$l$037 = 0;
     while(1) {
      $157 = (+($j$638|0));
      $158 = $157 * 0.125;
      $159 = $158 + $153;
      $160 = $159 + 3.9032840728759766;
      $161 = $160 * 0.69314700365066528;
      $162 = (+Math_exp((+$161)));
      $163 = $162 / $5;
      $164 = (~~(($163)));
      $165 = $159 + 4.0282840728759766;
      $166 = $165 * 0.69314700365066528;
      $167 = (+Math_exp((+$166)));
      $168 = $167 / $5;
      $169 = $168 + 1.0;
      $170 = (~~(($169)));
      $171 = ($164|0)<(0);
      $$6 = $171 ? 0 : $164;
      $172 = ($$6|0)>($n|0);
      $lo_bin$1 = $172 ? $n : $$6;
      $173 = ($lo_bin$1|0)<($l$037|0);
      $lo_bin$1$l$0 = $173 ? $lo_bin$1 : $l$037;
      $174 = ($170|0)<(0);
      $hi_bin$0 = $174 ? 0 : $170;
      $175 = ($hi_bin$0|0)>($n|0);
      $n$hi_bin$0 = $175 ? $n : $hi_bin$0;
      $176 = ($lo_bin$1$l$0|0)<($n$hi_bin$0|0);
      $177 = ($lo_bin$1$l$0|0)<($n|0);
      $or$cond734 = $176 & $177;
      if ($or$cond734) {
       $178 = (((($workc) + (($k$241*1792)|0)|0) + (($m$055*224)|0)|0) + ($j$638<<2)|0);
       $179 = +HEAPF32[$178>>2];
       $180 = ($l$037|0)<($n|0);
       $181 = $180 ? $l$037 : $n;
       $182 = $181 ^ -1;
       $183 = ($164|0)>(0);
       $$op125 = $164 ^ -1;
       $184 = $183 ? $$op125 : -1;
       $185 = ($184|0)<($182|0);
       $smax92 = $185 ? $182 : $184;
       $186 = $smax92 ^ -1;
       $187 = ($170|0)>(0);
       $$op126 = $170 ^ -1;
       $188 = $187 ? $$op126 : -1;
       $189 = ($188|0)<($7|0);
       $smax94 = $189 ? $7 : $188;
       $190 = (($smax94) - ($smax92))|0;
       $191 = (($smax92) + ($n))|0;
       $192 = $191 ^ -1;
       $193 = ($190>>>0)>($192>>>0);
       $umax = $193 ? $190 : $192;
       $194 = (($186) - ($umax))|0;
       $l$235 = $lo_bin$1$l$0;
       while(1) {
        $195 = (($1) + ($l$235<<2)|0);
        $196 = +HEAPF32[$195>>2];
        $197 = $196 > $179;
        if ($197) {
         HEAPF32[$195>>2] = $179;
        }
        $198 = (($l$235) + 1)|0;
        $exitcond95 = ($198|0)==($194|0);
        if ($exitcond95) {
         $l$2$lcssa = $194;
         break;
        } else {
         $l$235 = $198;
        }
       }
      } else {
       $l$2$lcssa = $lo_bin$1$l$0;
      }
      $199 = (($j$638) + 1)|0;
      $exitcond96 = ($199|0)==(56);
      if ($exitcond96) {
       $l$2$lcssa$lcssa = $l$2$lcssa;
       break;
      } else {
       $j$638 = $199;$l$037 = $l$2$lcssa;
      }
     }
     $154 = ($l$2$lcssa$lcssa|0)<($n|0);
     if ($154) {
      $155 = ((((($workc) + (($k$241*1792)|0)|0) + (($m$055*224)|0)|0)) + 220|0);
      $156 = +HEAPF32[$155>>2];
      $l$339 = $l$2$lcssa$lcssa;
      while(1) {
       $200 = (($1) + ($l$339<<2)|0);
       $201 = +HEAPF32[$200>>2];
       $202 = $201 > $156;
       if ($202) {
        HEAPF32[$200>>2] = $156;
       }
       $203 = (($l$339) + 1)|0;
       $exitcond97 = ($203|0)==($n|0);
       if ($exitcond97) {
        break;
       } else {
        $l$339 = $203;
       }
      }
     }
     $204 = (($k$241) + 1)|0;
     $205 = ($k$241|0)<($$5|0);
     if ($205) {
      $k$241 = $204;
     } else {
      break;
     }
    }
   }
   if ($146) {
    $j$749 = 0;$l1$048 = 0;
    while(1) {
     $212 = (+($j$749|0));
     $213 = $212 * 0.125;
     $214 = $213 + $116;
     $215 = $214 + 3.9032840728759766;
     $216 = $215 * 0.69314700365066528;
     $217 = (+Math_exp((+$216)));
     $218 = $217 / $5;
     $219 = (~~(($218)));
     $220 = $214 + 4.0282840728759766;
     $221 = $220 * 0.69314700365066528;
     $222 = (+Math_exp((+$221)));
     $223 = $222 / $5;
     $224 = $223 + 1.0;
     $225 = (~~(($224)));
     $226 = ($219|0)<(0);
     $$8 = $226 ? 0 : $219;
     $227 = ($$8|0)>($n|0);
     $lo_bin2$1 = $227 ? $n : $$8;
     $228 = ($lo_bin2$1|0)<($l1$048|0);
     $lo_bin2$1$l1$0 = $228 ? $lo_bin2$1 : $l1$048;
     $229 = ($225|0)<(0);
     $hi_bin3$0 = $229 ? 0 : $225;
     $230 = ($hi_bin3$0|0)>($n|0);
     $n$hi_bin3$0 = $230 ? $n : $hi_bin3$0;
     $231 = ($lo_bin2$1$l1$0|0)<($n$hi_bin3$0|0);
     $232 = ($lo_bin2$1$l1$0|0)<($n|0);
     $or$cond943 = $231 & $232;
     if ($or$cond943) {
      $233 = (((($workc) + (($145*1792)|0)|0) + (($m$055*224)|0)|0) + ($j$749<<2)|0);
      $234 = +HEAPF32[$233>>2];
      $235 = ($l1$048|0)<($n|0);
      $236 = $235 ? $l1$048 : $n;
      $237 = $236 ^ -1;
      $238 = ($219|0)>(0);
      $$op123 = $219 ^ -1;
      $239 = $238 ? $$op123 : -1;
      $240 = ($239|0)<($237|0);
      $smax100 = $240 ? $237 : $239;
      $241 = $smax100 ^ -1;
      $242 = ($225|0)>(0);
      $$op124 = $225 ^ -1;
      $243 = $242 ? $$op124 : -1;
      $244 = ($243|0)<($7|0);
      $smax102 = $244 ? $7 : $243;
      $245 = (($smax102) - ($smax100))|0;
      $246 = (($smax100) + ($n))|0;
      $247 = $246 ^ -1;
      $248 = ($245>>>0)>($247>>>0);
      $umax103 = $248 ? $245 : $247;
      $249 = (($241) - ($umax103))|0;
      $l1$244 = $lo_bin2$1$l1$0;
      while(1) {
       $250 = (($1) + ($l1$244<<2)|0);
       $251 = +HEAPF32[$250>>2];
       $252 = $251 > $234;
       if ($252) {
        HEAPF32[$250>>2] = $234;
       }
       $253 = (($l1$244) + 1)|0;
       $exitcond104 = ($253|0)==($249|0);
       if ($exitcond104) {
        $l1$2$lcssa = $249;
        break;
       } else {
        $l1$244 = $253;
       }
      }
     } else {
      $l1$2$lcssa = $lo_bin2$1$l1$0;
     }
     $254 = (($j$749) + 1)|0;
     $exitcond105 = ($254|0)==(56);
     if ($exitcond105) {
      $l1$2$lcssa$lcssa = $l1$2$lcssa;
      break;
     } else {
      $j$749 = $254;$l1$048 = $l1$2$lcssa;
     }
    }
    $209 = ($l1$2$lcssa$lcssa|0)<($n|0);
    if ($209) {
     $210 = ((((($workc) + (($145*1792)|0)|0) + (($m$055*224)|0)|0)) + 220|0);
     $211 = +HEAPF32[$210>>2];
     $l1$350 = $l1$2$lcssa$lcssa;
     while(1) {
      $255 = (($1) + ($l1$350<<2)|0);
      $256 = +HEAPF32[$255>>2];
      $257 = $256 > $211;
      if ($257) {
       HEAPF32[$255>>2] = $211;
      }
      $258 = (($l1$350) + 1)|0;
      $exitcond106 = ($258|0)==($n|0);
      if ($exitcond106) {
       break;
      } else {
       $l1$350 = $258;
      }
     }
    }
   }
   $206 = (($113) + ($m$055<<2)|0);
   $207 = (($113) + ($m$055<<2)|0);
   $208 = (($113) + ($m$055<<2)|0);
   $j$852 = 0;
   while(1) {
    $262 = (+($j$852|0));
    $263 = $262 * 0.125;
    $264 = $147 + $263;
    $265 = $264 * 0.69314700365066528;
    $266 = (+Math_exp((+$265)));
    $267 = $266 / $5;
    $268 = (~~(($267)));
    $269 = ($268|0)<(0);
    do {
     if ($269) {
      $270 = (($j$852) + 2)|0;
      $271 = HEAP32[$206>>2]|0;
      $272 = (($271) + ($270<<2)|0);
      HEAPF32[$272>>2] = -999.0;
     } else {
      $273 = ($268|0)<($n|0);
      if ($273) {
       $277 = (($1) + ($268<<2)|0);
       $278 = HEAP32[$277>>2]|0;
       $279 = (($j$852) + 2)|0;
       $280 = HEAP32[$207>>2]|0;
       $281 = (($280) + ($279<<2)|0);
       HEAP32[$281>>2] = $278;
       break;
      } else {
       $274 = (($j$852) + 2)|0;
       $275 = HEAP32[$208>>2]|0;
       $276 = (($275) + ($274<<2)|0);
       HEAPF32[$276>>2] = -999.0;
       break;
      }
     }
    } while(0);
    $282 = (($j$852) + 1)|0;
    $exitcond107 = ($282|0)==(56);
    if ($exitcond107) {
     break;
    } else {
     $j$852 = $282;
    }
   }
   $259 = ((($148)) + 8|0);
   $260 = +HEAPF32[$259>>2];
   $261 = $260 > -200.0;
   do {
    if ($261) {
     $j$9$lcssa = 0.0;
    } else {
     $283 = ((($148)) + 12|0);
     $284 = +HEAPF32[$283>>2];
     $285 = $284 > -200.0;
     if ($285) {
      $j$9$lcssa = 1.0;
     } else {
      $295 = ((($148)) + 16|0);
      $296 = +HEAPF32[$295>>2];
      $297 = $296 > -200.0;
      if ($297) {
       $j$9$lcssa = 2.0;
      } else {
       $298 = ((($148)) + 20|0);
       $299 = +HEAPF32[$298>>2];
       $300 = $299 > -200.0;
       if ($300) {
        $j$9$lcssa = 3.0;
       } else {
        $301 = ((($148)) + 24|0);
        $302 = +HEAPF32[$301>>2];
        $303 = $302 > -200.0;
        if ($303) {
         $j$9$lcssa = 4.0;
        } else {
         $304 = ((($148)) + 28|0);
         $305 = +HEAPF32[$304>>2];
         $306 = $305 > -200.0;
         if ($306) {
          $j$9$lcssa = 5.0;
         } else {
          $307 = ((($148)) + 32|0);
          $308 = +HEAPF32[$307>>2];
          $309 = $308 > -200.0;
          if ($309) {
           $j$9$lcssa = 6.0;
          } else {
           $310 = ((($148)) + 36|0);
           $311 = +HEAPF32[$310>>2];
           $312 = $311 > -200.0;
           if ($312) {
            $j$9$lcssa = 7.0;
           } else {
            $313 = ((($148)) + 40|0);
            $314 = +HEAPF32[$313>>2];
            $315 = $314 > -200.0;
            if ($315) {
             $j$9$lcssa = 8.0;
            } else {
             $316 = ((($148)) + 44|0);
             $317 = +HEAPF32[$316>>2];
             $318 = $317 > -200.0;
             if ($318) {
              $j$9$lcssa = 9.0;
             } else {
              $319 = ((($148)) + 48|0);
              $320 = +HEAPF32[$319>>2];
              $321 = $320 > -200.0;
              if ($321) {
               $j$9$lcssa = 10.0;
              } else {
               $322 = ((($148)) + 52|0);
               $323 = +HEAPF32[$322>>2];
               $324 = $323 > -200.0;
               if ($324) {
                $j$9$lcssa = 11.0;
               } else {
                $325 = ((($148)) + 56|0);
                $326 = +HEAPF32[$325>>2];
                $327 = $326 > -200.0;
                if ($327) {
                 $j$9$lcssa = 12.0;
                } else {
                 $328 = ((($148)) + 60|0);
                 $329 = +HEAPF32[$328>>2];
                 $330 = $329 > -200.0;
                 if ($330) {
                  $j$9$lcssa = 13.0;
                 } else {
                  $331 = ((($148)) + 64|0);
                  $332 = +HEAPF32[$331>>2];
                  $333 = $332 > -200.0;
                  if ($333) {
                   $j$9$lcssa = 14.0;
                   break;
                  }
                  $334 = ((($148)) + 68|0);
                  $335 = +HEAPF32[$334>>2];
                  $336 = $335 > -200.0;
                  if ($336) {
                   $j$9$lcssa = 15.0;
                   break;
                  }
                  $j$9$lcssa = 16.0;
                 }
                }
               }
              }
             }
            }
           }
          }
         }
        }
       }
      }
     }
    }
   } while(0);
   HEAPF32[$148>>2] = $j$9$lcssa;
   $j$1054 = 55;
   while(1) {
    $286 = (($j$1054) + 2)|0;
    $287 = (($148) + ($286<<2)|0);
    $288 = +HEAPF32[$287>>2];
    $289 = $288 > -200.0;
    if ($289) {
     $j$10$lcssa = $j$1054;
     break;
    }
    $290 = (($j$1054) + -1)|0;
    $291 = ($290|0)>(17);
    if ($291) {
     $j$1054 = $290;
    } else {
     $j$10$lcssa = $290;
     break;
    }
   }
   $292 = (+($j$10$lcssa|0));
   $293 = ((($148)) + 4|0);
   HEAPF32[$293>>2] = $292;
   $294 = (($m$055) + 1)|0;
   $exitcond108 = ($294|0)==(8);
   if ($exitcond108) {
    break;
   } else {
    $m$055 = $294;
   }
  }
  $exitcond109 = ($145|0)==(17);
  if ($exitcond109) {
   break;
  } else {
   $i$158 = $145;
  }
 }
 STACKTOP = sp;return ($2|0);
}