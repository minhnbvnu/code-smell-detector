function decodeRefinement(t,r,o,c,l,u,h,g,y){var m=w[o].coding;0===o&&(m=m.concat([g[0]]));var v,_=m.length,S=new Int32Array(_),C=new Int32Array(_);for(v=0;v<_;v++){S[v]=m[v].x;C[v]=m[v].y}var x=w[o].reference;0===o&&(x=x.concat([g[1]]));var O=x.length,T=new Int32Array(O),E=new Int32Array(O);for(v=0;v<O;v++){T[v]=x[v].x;E[v]=x[v].y}for(var M=c[0].length,R=c.length,L=k[o],j=[],D=y.decoder,N=y.contextCache.getContexts("GR"),U=0,H=0;H<r;H++){if(h){if(U^=D.readBit(N,L))throw new d("prediction is not supported")}var G=new Uint8Array(t);j.push(G);for(var $=0;$<t;$++){var X=void 0,q=void 0,z=0;for(v=0;v<_;v++){X=H+C[v];q=$+S[v];X<0||q<0||q>=t?z<<=1:z=z<<1|j[X][q]}for(v=0;v<O;v++){X=H+E[v]-u;q=$+T[v]-l;X<0||X>=R||q<0||q>=M?z<<=1:z=z<<1|c[X][q]}var W=D.readBit(N,z);G[$]=W}}return j}