function _vorbis_encode_tonemask_setup($vi,$s,$block,$att,$max,$in) {
 $vi = $vi|0;
 $s = +$s;
 $block = $block|0;
 $att = $att|0;
 $max = $max|0;
 $in = $in|0;
 var $0 = 0, $1 = 0.0, $10 = 0.0, $11 = 0.0, $12 = 0, $13 = 0, $14 = 0, $15 = 0.0, $16 = 0.0, $17 = 0.0, $18 = 0.0, $19 = 0, $2 = 0.0, $20 = 0, $21 = 0, $22 = 0.0, $23 = 0.0, $24 = 0, $25 = 0, $26 = 0.0;
 var $27 = 0.0, $28 = 0.0, $29 = 0.0, $3 = 0, $30 = 0, $31 = 0, $32 = 0, $33 = 0.0, $34 = 0.0, $35 = 0, $36 = 0, $37 = 0.0, $38 = 0.0, $39 = 0.0, $4 = 0, $40 = 0.0, $41 = 0, $42 = 0, $43 = 0.0, $44 = 0.0;
 var $45 = 0.0, $46 = 0, $47 = 0.0, $48 = 0.0, $49 = 0.0, $5 = 0, $50 = 0.0, $51 = 0.0, $52 = 0, $53 = 0, $54 = 0.0, $55 = 0.0, $56 = 0.0, $57 = 0, $58 = 0.0, $59 = 0.0, $6 = 0, $60 = 0.0, $61 = 0.0, $62 = 0.0;
 var $63 = 0, $64 = 0, $65 = 0, $66 = 0.0, $67 = 0.0, $68 = 0, $69 = 0, $7 = 0, $70 = 0.0, $71 = 0.0, $72 = 0.0, $73 = 0.0, $74 = 0, $75 = 0, $76 = 0, $77 = 0.0, $78 = 0.0, $79 = 0, $8 = 0, $80 = 0;
 var $81 = 0.0, $82 = 0.0, $83 = 0.0, $84 = 0.0, $85 = 0, $86 = 0, $9 = 0.0, $exitcond = 0, $i$01 = 0, label = 0, sp = 0;
 sp = STACKTOP;
 $0 = (~~(($s)));
 $1 = (+($0|0));
 $2 = $s - $1;
 $3 = ((($vi)) + 28|0);
 $4 = HEAP32[$3>>2]|0;
 $5 = (((($4)) + 2852|0) + ($block<<2)|0);
 $6 = HEAP32[$5>>2]|0;
 $7 = (($att) + (($0*20)|0)|0);
 $8 = HEAP32[$7>>2]|0;
 $9 = (+($8|0));
 $10 = 1.0 - $2;
 $11 = $9 * $10;
 $12 = (($0) + 1)|0;
 $13 = (($att) + (($12*20)|0)|0);
 $14 = HEAP32[$13>>2]|0;
 $15 = (+($14|0));
 $16 = $15 * $2;
 $17 = $16 + $11;
 $18 = $17;
 $19 = ((($6)) + 12|0);
 HEAPF32[$19>>2] = $18;
 $20 = (((($att) + (($0*20)|0)|0)) + 4|0);
 $21 = HEAP32[$20>>2]|0;
 $22 = (+($21|0));
 $23 = $22 * $10;
 $24 = (((($att) + (($12*20)|0)|0)) + 4|0);
 $25 = HEAP32[$24>>2]|0;
 $26 = (+($25|0));
 $27 = $26 * $2;
 $28 = $27 + $23;
 $29 = $28;
 $30 = ((($6)) + 16|0);
 HEAPF32[$30>>2] = $29;
 $31 = (((($att) + (($0*20)|0)|0)) + 8|0);
 $32 = HEAP32[$31>>2]|0;
 $33 = (+($32|0));
 $34 = $33 * $10;
 $35 = (((($att) + (($12*20)|0)|0)) + 8|0);
 $36 = HEAP32[$35>>2]|0;
 $37 = (+($36|0));
 $38 = $37 * $2;
 $39 = $38 + $34;
 $40 = $39;
 $41 = ((($6)) + 20|0);
 HEAPF32[$41>>2] = $40;
 $42 = (((($att) + (($0*20)|0)|0)) + 12|0);
 $43 = +HEAPF32[$42>>2];
 $44 = $43;
 $45 = $44 * $10;
 $46 = (((($att) + (($12*20)|0)|0)) + 12|0);
 $47 = +HEAPF32[$46>>2];
 $48 = $47;
 $49 = $48 * $2;
 $50 = $49 + $45;
 $51 = $50;
 $52 = ((($6)) + 24|0);
 HEAPF32[$52>>2] = $51;
 $53 = (((($att) + (($0*20)|0)|0)) + 16|0);
 $54 = +HEAPF32[$53>>2];
 $55 = $54;
 $56 = $55 * $10;
 $57 = (((($att) + (($12*20)|0)|0)) + 16|0);
 $58 = +HEAPF32[$57>>2];
 $59 = $58;
 $60 = $59 * $2;
 $61 = $60 + $56;
 $62 = $61;
 $63 = ((($6)) + 28|0);
 HEAPF32[$63>>2] = $62;
 $64 = (($max) + ($0<<2)|0);
 $65 = HEAP32[$64>>2]|0;
 $66 = (+($65|0));
 $67 = $66 * $10;
 $68 = (($max) + ($12<<2)|0);
 $69 = HEAP32[$68>>2]|0;
 $70 = (+($69|0));
 $71 = $70 * $2;
 $72 = $71 + $67;
 $73 = $72;
 $74 = ((($6)) + 496|0);
 HEAPF32[$74>>2] = $73;
 $i$01 = 0;
 while(1) {
  $75 = ((($in) + (($0*68)|0)|0) + ($i$01<<2)|0);
  $76 = HEAP32[$75>>2]|0;
  $77 = (+($76|0));
  $78 = $77 * $10;
  $79 = ((($in) + (($12*68)|0)|0) + ($i$01<<2)|0);
  $80 = HEAP32[$79>>2]|0;
  $81 = (+($80|0));
  $82 = $81 * $2;
  $83 = $82 + $78;
  $84 = $83;
  $85 = (((($6)) + 36|0) + ($i$01<<2)|0);
  HEAPF32[$85>>2] = $84;
  $86 = (($i$01) + 1)|0;
  $exitcond = ($86|0)==(17);
  if ($exitcond) {
   break;
  } else {
   $i$01 = $86;
  }
 }
 return;
}