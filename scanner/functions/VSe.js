function VSe(e,t=BSe){let r=Object.create(null),n=Object.create(null),i=(l,s)=>{let u=n[l];if(u==null)n[l]=s;else if(u!=s)throw new Error("Key binding "+l+" is used both as a regular binding and as a multi-stroke prefix")},a=(l,s,u,c,d)=>{var f,h;let p=r[l]||(r[l]=Object.create(null)),m=s.split(/ (?!$)/).map(v=>_Se(v,t));for(let v=1;v<m.length;v++){let y=m.slice(0,v).join(" ");i(y,!0),p[y]||(p[y]={preventDefault:!0,stopPropagation:!1,run:[$=>{let x=Zo={view:$,prefix:y,scope:l};return setTimeout(()=>{Zo==x&&(Zo=null)},QSe),!0}]})}let g=m.join(" ");i(g,!1);let b=p[g]||(p[g]={preventDefault:!1,stopPropagation:!1,run:((h=(f=p._any)===null||f===void 0?void 0:f.run)===null||h===void 0?void 0:h.slice())||[]});u&&b.run.push(u),c&&(b.preventDefault=!0),d&&(b.stopPropagation=!0)};for(let l of e){let s=l.scope?l.scope.split(" "):["editor"];if(l.any)for(let c of s){let d=r[c]||(r[c]=Object.create(null));d._any||(d._any={preventDefault:!1,stopPropagation:!1,run:[]});for(let f in d)d[f].run.push(l.any)}let u=l[t]||l.key;if(u)for(let c of s)a(c,u,l.run,l.preventDefault,l.stopPropagation),l.shift&&a(c,"Shift-"+u,l.shift,l.preventDefault,l.stopPropagation)}return r}