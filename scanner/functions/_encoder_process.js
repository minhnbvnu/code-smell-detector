function _encoder_process($enc,$length) {
 $enc = $enc|0;
 $length = $length|0;
 var $0 = 0, $1 = 0, $10 = 0, $11 = 0, $12 = 0, $13 = 0, $14 = 0, $15 = 0, $16 = 0, $17 = 0, $18 = 0, $19 = 0, $2 = 0, $20 = 0, $21 = 0, $22 = 0, $23 = 0, $24 = 0, $25 = 0, $26 = 0;
 var $27 = 0, $28 = 0, $29 = 0, $3 = 0, $30 = 0, $31 = 0, $32 = 0, $33 = 0, $34 = 0, $35 = 0, $36 = 0, $37 = 0, $38 = 0, $4 = 0, $5 = 0, $6 = 0, $7 = 0, $8 = 0, $9 = 0, label = 0;
 var sp = 0;
 sp = STACKTOP;
 $0 = ((($enc)) + 456|0);
 (_vorbis_analysis_wrote($0,$length)|0);
 $1 = ((($enc)) + 568|0);
 $2 = (_vorbis_analysis_blockout($0,$1)|0);
 $3 = ($2|0)==(1);
 if (!($3)) {
  return;
 }
 $4 = ((($enc)) + 360|0);
 $5 = ((($enc)) + 392|0);
 $6 = ((($enc)) + 684|0);
 $7 = ((($enc)) + 396|0);
 $8 = ((($enc)) + 404|0);
 $9 = ((($enc)) + 680|0);
 $10 = ((($enc)) + 392|0);
 $11 = ((($enc)) + 400|0);
 while(1) {
  (_vorbis_analysis($1,0)|0);
  (_vorbis_bitrate_addblock($1)|0);
  $14 = (_vorbis_bitrate_flushpacket($0,$4)|0);
  $15 = ($14|0)==(0);
  if (!($15)) {
   while(1) {
    (_ogg_stream_packetin($enc,$4)|0);
    $18 = (_ogg_stream_pageout($enc,$5)|0);
    $19 = ($18|0)==(0);
    if (!($19)) {
     while(1) {
      $20 = HEAP32[$6>>2]|0;
      $21 = HEAP32[$7>>2]|0;
      $22 = (($21) + ($20))|0;
      $23 = HEAP32[$8>>2]|0;
      $24 = (($22) + ($23))|0;
      $25 = ($24|0)==(0);
      if (!($25)) {
       $28 = HEAP32[$9>>2]|0;
       $29 = (_realloc($28,$24)|0);
       HEAP32[$9>>2] = $29;
       $30 = HEAP32[$6>>2]|0;
       $31 = (($29) + ($30)|0);
       $32 = HEAP32[$10>>2]|0;
       $33 = HEAP32[$7>>2]|0;
       _memcpy(($31|0),($32|0),($33|0))|0;
       $34 = (($33) + ($30))|0;
       HEAP32[$6>>2] = $34;
       $35 = (($29) + ($34)|0);
       $36 = HEAP32[$11>>2]|0;
       $37 = HEAP32[$8>>2]|0;
       _memcpy(($35|0),($36|0),($37|0))|0;
       $38 = (($37) + ($34))|0;
       HEAP32[$6>>2] = $38;
      }
      $26 = (_ogg_stream_pageout($enc,$5)|0);
      $27 = ($26|0)==(0);
      if ($27) {
       break;
      }
     }
    }
    $16 = (_vorbis_bitrate_flushpacket($0,$4)|0);
    $17 = ($16|0)==(0);
    if ($17) {
     break;
    }
   }
  }
  $12 = (_vorbis_analysis_blockout($0,$1)|0);
  $13 = ($12|0)==(1);
  if (!($13)) {
   break;
  }
 }
 return;
}