function wae(e,t,r,n,i,a,l,s,u){let{children:c}=e,d=c.length?c[t]:null,f=a.length?a[a.length-1]:null,h=f?f.breakAfter:l;if(!(t==n&&d&&!l&&!h&&a.length<2&&d.merge(r,i,a.length?f:null,r==0,s,u))){if(n<c.length){let p=c[n];p&&(i<p.length||p.breakAfter&&(f!=null&&f.breakAfter))?(t==n&&(p=p.split(i),i=0),!h&&f&&p.merge(0,i,f,!0,0,u)?a[a.length-1]=p:((i||p.children.length&&!p.children[0].length)&&p.merge(0,i,null,!1,0,u),a.push(p))):p!=null&&p.breakAfter&&(f?f.breakAfter=1:l=1),n++}for(d&&(d.breakAfter=l,r>0&&(!l&&a.length&&d.merge(r,d.length,a[0],!1,s,0)?d.breakAfter=a.shift().breakAfter:(r<d.length||d.children.length&&d.children[d.children.length-1].length==0)&&d.merge(r,d.length,null,!1,s,0),t++));t<n&&a.length;)if(c[n-1].become(a[a.length-1]))n--,a.pop(),u=a.length?0:s;else if(c[t].become(a[0]))t++,a.shift(),s=a.length?0:u;else break;!a.length&&t&&n<c.length&&!c[t-1].breakAfter&&c[n].merge(0,0,c[t-1],!1,s,u)&&t--,(t<n||a.length)&&e.replaceChildren(t,n,a)}}