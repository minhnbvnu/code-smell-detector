function Vte(e){return new Promise(t=>{process.nextTick(()=>{let r={l1d:-1,l1i:-1,l2:-1,l3:-1};if(F3&&Vn("export LC_ALL=C; lscpu; unset LC_ALL",function(i,a){i||a.toString().split(`
`).forEach(function(s){let o=s.split(":");o[0].toUpperCase().indexOf("L1D CACHE")!==-1&&(r.l1d=parseInt(o[1].trim())*(o[1].indexOf("K")!==-1?1024:1)),o[0].toUpperCase().indexOf("L1I CACHE")!==-1&&(r.l1i=parseInt(o[1].trim())*(o[1].indexOf("K")!==-1?1024:1)),o[0].toUpperCase().indexOf("L2 CACHE")!==-1&&(r.l2=parseInt(o[1].trim())*(o[1].indexOf("K")!==-1?1024:1)),o[0].toUpperCase().indexOf("L3 CACHE")!==-1&&(r.l3=parseInt(o[1].trim())*(o[1].indexOf("K")!==-1?1024:1))}),e&&e(r),t(r)}),(L3||B3||R3)&&Vn("export LC_ALL=C; dmidecode -t 7 2>/dev/null; unset LC_ALL",function(i,a){let n=[];i||(n=a.toString().split("Cache Information"),n.shift());for(let s=0;s<n.length;s++){let o=n[s].split(`
`),u=pt.getValue(o,"Socket Designation").toLowerCase().replace(" ","-").split("-");u=u.length?u[0]:"";let l=pt.getValue(o,"Installed Size").split(" "),p=parseInt(l[0],10),c=l.length>1?l[1]:"kb";p=p*(c==="kb"?1024:c==="mb"?1024*1024:c==="gb"?1024*1024*1024:1),u&&(u==="l1"?(r.cache[u+"d"]=p/2,r.cache[u+"i"]=p/2):r.cache[u]=p)}e&&e(r),t(r)}),N3&&Vn("sysctl hw.l1icachesize hw.l1dcachesize hw.l2cachesize hw.l3cachesize",function(i,a){i||a.toString().split(`
`).forEach(function(s){let o=s.split(":");o[0].toLowerCase().indexOf("hw.l1icachesize")!==-1&&(r.l1d=parseInt(o[1].trim())*(o[1].indexOf("K")!==-1?1024:1)),o[0].toLowerCase().indexOf("hw.l1dcachesize")!==-1&&(r.l1i=parseInt(o[1].trim())*(o[1].indexOf("K")!==-1?1024:1)),o[0].toLowerCase().indexOf("hw.l2cachesize")!==-1&&(r.l2=parseInt(o[1].trim())*(o[1].indexOf("K")!==-1?1024:1)),o[0].toLowerCase().indexOf("hw.l3cachesize")!==-1&&(r.l3=parseInt(o[1].trim())*(o[1].indexOf("K")!==-1?1024:1))}),e&&e(r),t(r)}),q3&&(e&&e(r),t(r)),j3)try{pt.wmic("cpu get l2cachesize, l3cachesize /value").then((i,a)=>{if(!a){let n=i.split(`\r
`);r.l1d=0,r.l1i=0,r.l2=pt.getValue(n,"l2cachesize","="),r.l3=pt.getValue(n,"l3cachesize","="),r.l2&&(r.l2=parseInt(r.l2,10)*1024),r.l3&&(r.l3=parseInt(r.l3,10)*1024)}pt.wmic("path Win32_CacheMemory get CacheType,InstalledSize,Purpose").then((n,s)=>{s||n.split(`\r
`).filter(u=>u.trim()!=="").filter((u,l)=>l>0).forEach(function(u){u!==""&&(u=u.trim().split(/\s\s+/),u[2]==="L1 Cache"&&u[0]==="3"&&(r.l1i=parseInt(u[1],10)),u[2]==="L1 Cache"&&u[0]==="4"&&(r.l1d=parseInt(u[1],10)))}),e&&e(r),t(r)})})}catch{e&&e(r),t(r)}})})}