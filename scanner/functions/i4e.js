function i4e(e,t,r){typeof t=="function"&&(r=t,t={}),t=t||{};var i={algorithm:{name:t.algorithm||"PRIMEINC",options:{workers:t.workers||2,workLoad:t.workLoad||100,workerScript:t.workerScript}}};"prng"in t&&(i.prng=t.prng),a();function a(){n(e.pBits,function(o,u){if(o)return r(o);if(e.p=u,e.q!==null)return s(o,e.q);n(e.qBits,s)})}function n(o,u){zt.prime.generateProbablePrime(o,i,u)}function s(o,u){if(o)return r(o);if(e.q=u,e.p.compareTo(e.q)<0){var l=e.p;e.p=e.q,e.q=l}if(e.p.subtract(xr.ONE).gcd(e.e).compareTo(xr.ONE)!==0){e.p=null,a();return}if(e.q.subtract(xr.ONE).gcd(e.e).compareTo(xr.ONE)!==0){e.q=null,n(e.qBits,s);return}if(e.p1=e.p.subtract(xr.ONE),e.q1=e.q.subtract(xr.ONE),e.phi=e.p1.multiply(e.q1),e.phi.gcd(e.e).compareTo(xr.ONE)!==0){e.p=e.q=null,a();return}if(e.n=e.p.multiply(e.q),e.n.bitLength()!==e.bits){e.q=null,n(e.qBits,s);return}var p=e.e.modInverse(e.phi);e.keys={privateKey:$t.rsa.setPrivateKey(e.n,e.e,p,e.p,e.q,p.mod(e.p1),p.mod(e.q1),e.q.modInverse(e.p)),publicKey:$t.rsa.setPublicKey(e.n,e.e)},r(null,e.keys)}}