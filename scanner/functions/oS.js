function oS(e){if(e.type==="heading")e.children=e.children.filter(s=>s.type!=="paragraph");else if(e.type==="list_item"){var t;e.children=e.children.filter(s=>["paragraph","fence"].includes(s.type)?(e.content||(e.content=s.content,e.payload=er({},e.payload,s.payload)),!1):!0),((t=e.payload)==null?void 0:t.index)!=null&&(e.content=`${e.payload.index}. ${e.content}`)}else if(e.type==="ordered_list"){var n,o;let s=(n=(o=e.payload)==null?void 0:o.startIndex)!=null?n:1;e.children.forEach(c=>{c.type==="list_item"&&(c.payload=er({},c.payload,{index:s}),s+=1)})}e.children.length>0&&(e.children.forEach(s=>oS(s)),e.children.length===1&&!e.children[0].content&&(e.children=e.children[0].children))}