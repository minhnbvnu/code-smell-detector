function PopupAnnotation(t){var o;_classCallCheck(this,PopupAnnotation);(o=r.call(this,t)).data.annotationType=c.AnnotationType.POPUP;var l=t.dict.get("Parent");if(!l){(0,c.warn)("Popup annotation has a missing or invalid parent annotation.");return _possibleConstructorReturn(o)}var u=l.get("Subtype");o.data.parentType=u instanceof h.Name?u.name:null;var d=t.dict.getRaw("Parent");o.data.parentId=d instanceof h.Ref?d.toString():null;var g=l.getArray("Rect");Array.isArray(g)&&4===g.length?o.data.parentRect=c.Util.normalizeRect(g):o.data.parentRect=[0,0,0,0];var y=l.get("RT");(0,h.isName)(y,c.AnnotationReplyType.GROUP)&&(l=l.get("IRT"));if(l.has("M")){o.setModificationDate(l.get("M"));o.data.modificationDate=o.modificationDate}else o.data.modificationDate=null;if(l.has("C")){o.setColor(l.getArray("C"));o.data.color=o.color}else o.data.color=null;if(!o.viewable){var m=l.get("F");o._isViewable(m)&&o.setFlags(m)}o.setTitle(l.get("T"));o.data.titleObj=o._title;o.setContents(l.get("Contents"));o.data.contentsObj=o._contents;l.has("RC")&&(o.data.richText=C.XFAFactory.getRichTextAsHtml(l.get("RC")));return o}