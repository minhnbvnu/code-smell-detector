function buildHuffmanTable(t,r){for(var o,c,l=0,u=16;u>0&&!t[u-1];)u--;var h,d=[{children:[],index:0}],g=d[0];for(o=0;o<u;o++){for(c=0;c<t[o];c++){(g=d.pop()).children[g.index]=r[l];for(;g.index>0;)g=d.pop();g.index++;d.push(g);for(;d.length<=o;){d.push(h={children:[],index:0});g.children[g.index]=h.children;g=h}l++}if(o+1<u){d.push(h={children:[],index:0});g.children[g.index]=h.children;g=h}}return d[0].children}