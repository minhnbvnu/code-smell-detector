function _vorbis_encode_setup_setting($vi,$channels,$rate) {
 $vi = $vi|0;
 $channels = $channels|0;
 $rate = $rate|0;
 var $$pre = 0.0, $$pre$phi3Z2D = 0, $$pre$phiZ2D = 0.0, $$pre2 = 0, $0 = 0, $1 = 0, $10 = 0, $11 = 0.0, $12 = 0.0, $13 = 0, $14 = 0, $15 = 0, $16 = 0, $17 = 0, $18 = 0, $19 = 0, $2 = 0, $20 = 0.0, $21 = 0.0, $22 = 0.0;
 var $23 = 0, $24 = 0, $25 = 0.0, $26 = 0.0, $27 = 0.0, $28 = 0, $29 = 0, $3 = 0, $30 = 0, $31 = 0, $32 = 0, $33 = 0.0, $34 = 0.0, $35 = 0, $36 = 0, $37 = 0.0, $38 = 0.0, $39 = 0.0, $4 = 0, $40 = 0;
 var $41 = 0, $42 = 0, $43 = 0, $44 = 0, $45 = 0.0, $46 = 0.0, $47 = 0, $48 = 0, $49 = 0.0, $5 = 0, $50 = 0.0, $51 = 0.0, $52 = 0, $53 = 0, $54 = 0, $55 = 0, $56 = 0, $57 = 0, $58 = 0, $59 = 0;
 var $6 = 0, $60 = 0, $61 = 0, $62 = 0, $63 = 0, $64 = 0, $65 = 0, $66 = 0, $67 = 0, $68 = 0, $69 = 0, $7 = 0, $70 = 0, $8 = 0, $9 = 0.0, label = 0, sp = 0;
 sp = STACKTOP;
 $0 = ((($vi)) + 28|0);
 $1 = HEAP32[$0>>2]|0;
 $2 = ((($1)) + 3396|0);
 $3 = HEAP32[$2>>2]|0;
 HEAP32[$vi>>2] = 0;
 $4 = ((($vi)) + 4|0);
 HEAP32[$4>>2] = $channels;
 $5 = ((($vi)) + 8|0);
 HEAP32[$5>>2] = $rate;
 $6 = ((($1)) + 3456|0);
 HEAP32[$6>>2] = 1;
 $7 = ((($1)) + 3460|0);
 HEAP32[$7>>2] = 1;
 $8 = ((($1)) + 3400|0);
 $9 = +HEAPF64[$8>>3];
 $10 = (~~(($9)));
 $11 = (+($10|0));
 $12 = $9 - $11;
 $13 = ((($1)) + 3472|0);
 HEAPF64[$13>>3] = $9;
 $14 = ((($1)) + 3488|0);
 $15 = HEAP32[$14>>2]|0;
 $16 = ($15|0)==(0);
 if ($16) {
  $17 = ((($3)) + 120|0);
  $18 = HEAP32[$17>>2]|0;
  $19 = (($18) + ($10<<3)|0);
  $20 = +HEAPF64[$19>>3];
  $21 = 1.0 - $12;
  $22 = $20 * $21;
  $23 = (($10) + 1)|0;
  $24 = (($18) + ($23<<3)|0);
  $25 = +HEAPF64[$24>>3];
  $26 = $25 * $12;
  $27 = $26 + $22;
  $28 = ((($1)) + 3480|0);
  HEAPF64[$28>>3] = $27;
  $$pre$phi3Z2D = $23;$$pre$phiZ2D = $21;
 } else {
  $$pre = 1.0 - $12;
  $$pre2 = (($10) + 1)|0;
  $$pre$phi3Z2D = $$pre2;$$pre$phiZ2D = $$pre;
 }
 $29 = ((($3)) + 112|0);
 $30 = HEAP32[$29>>2]|0;
 $31 = (($30) + ($10<<2)|0);
 $32 = HEAP32[$31>>2]|0;
 $33 = (+($32|0));
 $34 = $33 * $$pre$phiZ2D;
 $35 = (($30) + ($$pre$phi3Z2D<<2)|0);
 $36 = HEAP32[$35>>2]|0;
 $37 = (+($36|0));
 $38 = $37 * $12;
 $39 = $38 + $34;
 $40 = ((($1)) + 3496|0);
 HEAPF64[$40>>3] = $39;
 $41 = ((($3)) + 116|0);
 $42 = HEAP32[$41>>2]|0;
 $43 = (($42) + ($10<<2)|0);
 $44 = HEAP32[$43>>2]|0;
 $45 = (+($44|0));
 $46 = $45 * $$pre$phiZ2D;
 $47 = (($42) + ($$pre$phi3Z2D<<2)|0);
 $48 = HEAP32[$47>>2]|0;
 $49 = (+($48|0));
 $50 = $49 * $12;
 $51 = $50 + $46;
 $52 = ((($1)) + 3504|0);
 HEAPF64[$52>>3] = $51;
 $53 = ((($1)) + 3512|0);
 HEAPF64[$53>>3] = -6.0;
 $54 = ((($1)) + 3520|0);
 HEAPF64[$54>>3] = $9;
 $55 = ((($1)) + 3528|0);
 HEAPF64[$55>>3] = $9;
 $56 = ((($1)) + 3536|0);
 HEAPF64[$56>>3] = $9;
 $57 = ((($1)) + 3544|0);
 HEAPF64[$57>>3] = $9;
 $58 = ((($1)) + 3552|0);
 HEAPF64[$58>>3] = $9;
 $59 = ((($1)) + 3560|0);
 HEAPF64[$59>>3] = $9;
 $60 = ((($1)) + 3568|0);
 HEAPF64[$60>>3] = $9;
 $61 = ((($1)) + 3576|0);
 HEAPF64[$61>>3] = $9;
 $62 = ((($1)) + 3584|0);
 HEAPF64[$62>>3] = $9;
 $63 = ((($1)) + 3592|0);
 HEAPF64[$63>>3] = $9;
 $64 = ((($1)) + 3600|0);
 HEAPF64[$64>>3] = $9;
 $65 = ((($1)) + 3608|0);
 HEAPF64[$65>>3] = $9;
 $66 = ((($1)) + 3616|0);
 HEAPF64[$66>>3] = $9;
 $67 = ((($1)) + 3624|0);
 HEAPF64[$67>>3] = $9;
 $68 = ((($1)) + 3632|0);
 HEAPF64[$68>>3] = $9;
 $69 = ((($1)) + 3640|0);
 HEAPF64[$69>>3] = $9;
 $70 = ((($1)) + 3648|0);
 HEAPF64[$70>>3] = $9;
 return;
}