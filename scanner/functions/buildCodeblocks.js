function buildCodeblocks(t,r,o){var c,l,u,h,d=o.xcb_,g=o.ycb_,y=1<<d,m=1<<g,v=r.tbx0>>d,w=r.tby0>>g,_=r.tbx1+y-1>>d,k=r.tby1+m-1>>g,S=r.resolution.precinctParameters,C=[],x=[];for(l=w;l<k;l++)for(c=v;c<_;c++){(u={cbx:c,cby:l,tbx0:y*c,tby0:m*l,tbx1:y*(c+1),tby1:m*(l+1)}).tbx0_=Math.max(r.tbx0,u.tbx0);u.tby0_=Math.max(r.tby0,u.tby0);u.tbx1_=Math.min(r.tbx1,u.tbx1);u.tby1_=Math.min(r.tby1,u.tby1);h=Math.floor((u.tbx0_-r.tbx0)/S.precinctWidthInSubband)+Math.floor((u.tby0_-r.tby0)/S.precinctHeightInSubband)*S.numprecinctswide;u.precinctNumber=h;u.subbandType=r.type;u.Lblock=3;if(!(u.tbx1_<=u.tbx0_||u.tby1_<=u.tby0_)){C.push(u);var O=x[h];if(void 0!==O){c<O.cbxMin?O.cbxMin=c:c>O.cbxMax&&(O.cbxMax=c);l<O.cbyMin?O.cbxMin=l:l>O.cbyMax&&(O.cbyMax=l)}else x[h]=O={cbxMin:c,cbyMin:l,cbxMax:c,cbyMax:l};u.precinct=O}}r.codeblockParameters={codeblockWidth:d,codeblockHeight:g,numcodeblockwide:_-v+1,numcodeblockhigh:k-w+1};r.codeblocks=C;r.precincts=x}