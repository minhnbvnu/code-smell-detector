function acos(x) {
  return x > 1 ? 0 : x < -1 ? pi : Math.acos(x);
}