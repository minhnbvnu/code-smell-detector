function composeSMask(t,r,a,i){var o=i[0],l=i[1],c=i[2]-o,u=i[3]-l;if(0!==c&&0!==u){!function genericComposeSMask(t,r,a,i,o,l,c,u,d,h,p){var v,y=!!l,g=y?l[0]:0,_=y?l[1]:0,m=y?l[2]:0;v="Luminosity"===o?composeSMaskLuminosity:composeSMaskAlpha;for(var b=Math.min(i,Math.ceil(1048576/a)),A=0;A<i;A+=b){var k=Math.min(b,i-A),P=t.getImageData(u-h,A+(d-p),a,k),S=r.getImageData(u,A+d,a,k);y&&composeSMaskBackdrop(P.data,g,_,m);v(P.data,S.data,c);r.putImageData(S,u,A+d)}}(r.context,a,c,u,r.subtype,r.backdrop,r.transferMap,o,l,r.offsetX,r.offsetY);t.save();t.globalAlpha=1;t.globalCompositeOperation="source-over";t.setTransform(1,0,0,1,0,0);t.drawImage(a.canvas,0,0);t.restore()}}