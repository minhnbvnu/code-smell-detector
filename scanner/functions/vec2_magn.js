function vec2_magn(v) {
  return Math.sqrt(v.dx*v.dx + v.dy*v.dy);
}