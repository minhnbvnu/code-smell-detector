function _loadDocument(){return(_loadDocument=_asyncToGenerator(_regeneratorRuntime().mark((function _callee(t){var r,c,l,u,h,d,g;return _regeneratorRuntime().wrap((function _callee$(y){for(;;)switch(y.prev=y.next){case 0:y.next=2;return o.ensureDoc("checkHeader");case 2:y.next=4;return o.ensureDoc("parseStartXRef");case 4:y.next=6;return o.ensureDoc("parse",[t]);case 6:y.next=8;return o.ensureDoc("checkFirstPage",[t]);case 8:y.next=10;return o.ensureDoc("checkLastPage",[t]);case 10:y.next=12;return o.ensureDoc("isPureXfa");case 12:if(!(r=y.sent)){y.next=18;break}startWorkerTask(c=new w("loadXfaFonts"));y.next=18;return Promise.all([o.loadXfaFonts(D,c).catch((function(t){})).then((function(){return finishWorkerTask(c)})),o.loadXfaImages()]);case 18:y.next=20;return Promise.all([o.ensureDoc("numPages"),o.ensureDoc("fingerprints")]);case 20:l=y.sent;u=_slicedToArray(l,2);h=u[0];d=u[1];if(!r){y.next=30;break}y.next=27;return o.ensureDoc("htmlForXfa");case 27:y.t0=y.sent;y.next=31;break;case 30:y.t0=null;case 31:g=y.t0;return y.abrupt("return",{numPages:h,fingerprints:d,htmlForXfa:g});case 33:case"end":return y.stop()}}),_callee)})))).apply(this,arguments)}