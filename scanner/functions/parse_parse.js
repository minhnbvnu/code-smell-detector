function parse_parse(i,o,s){if(o=o||{},s=new Y(s),o.defaultCountry&&!s.hasCountry(o.defaultCountry)){if(o.v2)throw new za("INVALID_COUNTRY");throw new Error("Unknown country: ".concat(o.defaultCountry))}var u=parseInput(i,o.v2,o.extract),C=u.number,_=u.ext,w=u.error;if(!C){if(o.v2){if("TOO_SHORT"===w)throw new za("TOO_SHORT");throw new za("NOT_A_NUMBER")}return{}}var P=parse_parsePhoneNumber(C,o.defaultCountry,o.defaultCallingCode,s),B=P.country,z=P.nationalNumber,U=P.countryCallingCode,V=P.carrierCode;if(!s.hasSelectedNumberingPlan()){if(o.v2)throw new za("INVALID_COUNTRY");return{}}if(!z||z.length<2){if(o.v2)throw new za("TOO_SHORT");return{}}if(z.length>17){if(o.v2)throw new za("TOO_LONG");return{}}if(o.v2){var $=new qe(U,z,s.metadata);return B&&($.country=B),V&&($.carrierCode=V),_&&($.ext=_),$}var Z=!!(o.extended?s.hasSelectedNumberingPlan():B)&&matchesEntirely(z,s.nationalNumberPattern());return o.extended?{country:B,countryCallingCode:U,carrierCode:V,valid:Z,possible:!!Z||!(!0!==o.extended||!s.possibleLengths()||!isPossibleNumber(z,s)),phone:z,ext:_}:Z?result(B,z,_):{}}