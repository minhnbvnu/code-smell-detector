function templateFormatter(i){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",s=arguments.length>2?arguments[2]:void 0;if(!i)return function(i){return{text:i}};var u=count_occurences(o,i);return function(C){if(!C)return{text:"",template:i};for(var _,w=0,P="",B=templateFormatter_createForOfIteratorHelperLoose(i.split(""));!(_=B()).done;){var z=_.value;if(z===o){if(P+=C[w],++w===C.length&&C.length<u)break}else P+=z}return s&&(P=closeBraces(P,i)),{text:P,template:i}}}