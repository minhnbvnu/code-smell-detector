function aPe(e){return new Promise(t=>{process.nextTick(()=>{let r={platform:Zo==="Windows_NT"?"Windows":Zo,distro:"unknown",release:"unknown",codename:"",kernel:vg.release(),arch:vg.arch(),hostname:vg.hostname(),codepage:"",logofile:"",serial:"",build:"",servicepack:"",uefi:!1};if(O3&&Ht("cat /etc/*-release; cat /usr/lib/os-release; cat /etc/openwrt_release",function(i,a){let n={};a.toString().split(`
`).forEach(function(l){l.indexOf("=")!==-1&&(n[l.split("=")[0].trim().toUpperCase()]=l.split("=")[1].trim())});let o=(n.VERSION||"").replace(/"/g,""),u=(n.DISTRIB_CODENAME||n.VERSION_CODENAME||"").replace(/"/g,"");o.indexOf("(")>=0&&(u=o.split("(")[1].replace(/[()]/g,"").trim(),o=o.split("(")[0].trim()),r.distro=(n.DISTRIB_ID||n.NAME||"unknown").replace(/"/g,""),r.logofile=xg(r.distro),r.release=(o||n.DISTRIB_RELEASE||n.VERSION_ID||"unknown").replace(/"/g,""),r.codename=u,r.codepage=Mr.getCodepage(),r.build=(n.BUILD_ID||"").replace(/"/g,"").trim(),nPe().then(l=>{r.uefi=l,qte().then(p=>{r.serial=p.os,e&&e(r),t(r)})})}),(jte||Lte||Bte)&&Ht("sysctl kern.ostype kern.osrelease kern.osrevision kern.hostuuid machdep.bootmethod",function(i,a){if(!i){let n=a.toString().split(`
`);r.distro=Mr.getValue(n,"kern.ostype"),r.logofile=xg(r.distro),r.release=Mr.getValue(n,"kern.osrelease").split("-")[0],r.serial=Mr.getValue(n,"kern.uuid"),r.codename="",r.codepage=Mr.getCodepage(),r.uefi=Mr.getValue(n,"machdep.bootmethod").toLowerCase().indexOf("uefi")>=0}e&&e(r),t(r)}),Y1&&Ht("sw_vers; sysctl kern.ostype kern.osrelease kern.osrevision kern.uuid",function(i,a){let n=a.toString().split(`
`);r.serial=Mr.getValue(n,"kern.uuid"),r.distro=Mr.getValue(n,"ProductName"),r.release=Mr.getValue(n,"ProductVersion"),r.build=Mr.getValue(n,"BuildVersion"),r.logofile=xg(r.distro),r.codename="macOS",r.codename=r.release.indexOf("10.4")>-1?"Mac OS X Tiger":r.codename,r.codename=r.release.indexOf("10.4")>-1?"Mac OS X Tiger":r.codename,r.codename=r.release.indexOf("10.4")>-1?"Mac OS X Tiger":r.codename,r.codename=r.release.indexOf("10.5")>-1?"Mac OS X Leopard":r.codename,r.codename=r.release.indexOf("10.6")>-1?"Mac OS X Snow Leopard":r.codename,r.codename=r.release.indexOf("10.7")>-1?"Mac OS X Lion":r.codename,r.codename=r.release.indexOf("10.8")>-1?"OS X Mountain Lion":r.codename,r.codename=r.release.indexOf("10.9")>-1?"OS X Mavericks":r.codename,r.codename=r.release.indexOf("10.10")>-1?"OS X Yosemite":r.codename,r.codename=r.release.indexOf("10.11")>-1?"OS X El Capitan":r.codename,r.codename=r.release.indexOf("10.12")>-1?"macOS Sierra":r.codename,r.codename=r.release.indexOf("10.13")>-1?"macOS High Sierra":r.codename,r.codename=r.release.indexOf("10.14")>-1?"macOS Mojave":r.codename,r.codename=r.release.indexOf("10.15")>-1?"macOS Catalina":r.codename,r.uefi=!0,r.codepage=Mr.getCodepage(),e&&e(r),t(r)}),rPe&&(r.release=r.kernel,Ht("uname -o",function(i,a){let n=a.toString().split(`
`);r.distro=n[0],r.logofile=xg(r.distro),e&&e(r),t(r)})),yg){r.logofile=xg(),r.release=r.kernel;try{Mr.wmic("os get /value").then(i=>{let a=i.toString().split(`\r
`);r.distro=Mr.getValue(a,"Caption","=").trim(),r.serial=Mr.getValue(a,"SerialNumber","=").trim(),r.build=Mr.getValue(a,"BuildNumber","=").trim(),r.servicepack=Mr.getValue(a,"ServicePackMajorVersion","=").trim()+"."+Mr.getValue(a,"ServicePackMinorVersion","=").trim(),r.codepage=Mr.getCodepage(),sPe().then(n=>{r.uefi=n,e&&e(r),t(r)})})}catch{e&&e(r),t(r)}}})})}