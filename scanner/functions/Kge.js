function Kge(e){let{filter:t}=e,r=VR(e),n=O.useMemo(()=>e.disabledKeys?new Set(e.disabledKeys):new Set,[e.disabledKeys]),i=O.useCallback(c=>t?new s6(t(c)):new s6(c),[t]),a=O.useMemo(()=>({suppressTextValueWarning:e.suppressTextValueWarning}),[e.suppressTextValueWarning]),l=yR(e,i,a),s=O.useMemo(()=>new zR(l,r),[l,r]);const u=O.useRef(null);return O.useEffect(()=>{if(r.focusedKey!=null&&!l.getItem(r.focusedKey)){const c=u.current.getItem(r.focusedKey),d=[...u.current.getKeys()].map(g=>{const b=u.current.getItem(g);return b.type==="item"?b:null}).filter(g=>g!==null),f=[...l.getKeys()].map(g=>{const b=l.getItem(g);return b.type==="item"?b:null}).filter(g=>g!==null),h=d.length-f.length;let p=Math.min(h>1?Math.max(c.index-h+1,0):c.index,f.length-1),m;for(;p>=0;){if(!s.isDisabled(f[p].key)){m=f[p];break}p<f.length-1?p++:(p>c.index&&(p=c.index),p--)}r.setFocusedKey(m?m.key:null)}u.current=l},[l,s,r,r.focusedKey]),{collection:l,disabledKeys:n,selectionManager:s}}