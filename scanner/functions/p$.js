function p$(n,t){t===void 0&&(t="l2");var e,i,r=d$[t],o=new Map;n.forEach(function(h,p,d){var f=o.get(p)||[];f.push(d),o.set(p,f)});var s=new bl([],[],[],n.getDims()),a=function(h){for(var p=o.get(h).sort(),d=p.map(function(x){return n.get(h,x)}),f=r(d),m=0;m<f.length;m++)s.set(h,p[m],f[m])};try{for(var l=n$(o.keys()),c=l.next();!c.done;c=l.next()){var u=c.value;a(u)}}catch(h){e={error:h}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(e)throw e.error}}return s}