function prepareComponents(t){for(var r=Math.ceil(t.samplesPerLine/8/t.maxH),o=Math.ceil(t.scanLines/8/t.maxV),c=0,l=t.components.length;c<l;c++){var u=t.components[c],h=Math.ceil(Math.ceil(t.samplesPerLine/8)*u.h/t.maxH),d=Math.ceil(Math.ceil(t.scanLines/8)*u.v/t.maxV),g=r*u.h,y=64*(o*u.v)*(g+1);u.blockData=new Int16Array(y);u.blocksPerLine=h;u.blocksPerColumn=d}t.mcusPerLine=r;t.mcusPerColumn=o}