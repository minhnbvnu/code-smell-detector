function toOffset(array, offset) {
            return offset < 0 ? array.length + offset : offset;
        }