function lae(e,t,r=!1){let n=[],i=r?[]:null,a=new mh(e),l=new mh(t);for(let s=!1;;){if(a.done&&l.done)return i?yn.createSet(n,i):Rl.create(n);if(a.ins==0)ni(n,a.len,0,s),a.next();else if(l.len==0&&!l.done)ni(n,0,l.ins,s),i&&Go(i,n,l.text),l.next();else{if(a.done||l.done)throw new Error("Mismatched change set lengths");{let u=Math.min(a.len2,l.len),c=n.length;if(a.ins==-1){let d=l.ins==-1?-1:l.off?0:l.ins;ni(n,u,d,s),i&&d&&Go(i,n,l.text)}else l.ins==-1?(ni(n,a.off?0:a.len,u,s),i&&Go(i,n,a.textBit(u))):(ni(n,a.off?0:a.len,l.off?0:l.ins,s),i&&!l.off&&Go(i,n,l.text));s=(a.ins>u||l.ins>=0&&l.len>u)&&(s||n.length>c),a.forward2(u),l.forward(u)}}}}