function _stopDrawing2(t,r){var a=this;this.ctx.closePath();_classPrivateFieldSet(this,w,null);t=Math.min(Math.max(t,0),this.canvas.width);r=Math.min(Math.max(r,0),this.canvas.height);var i,o=_slicedToArray(this.currentPath.at(-1),2),c=o[0],u=o[1];t===c&&r===u||this.currentPath.push([t,r]);if(1!==this.currentPath.length)i=(0,l.fitCurve)(this.currentPath,30,null);else{var d=[t,r];i=[[d,d.slice(),d.slice(),d]]}var h=_classStaticPrivateMethodGet(J,J,_buildPath2D).call(J,i);this.currentPath.length=0;this.parent.addCommands({cmd:function cmd(){a.paths.push(i);a.bezierPath2D.push(h);a.rebuild()},undo:function undo(){a.paths.pop();a.bezierPath2D.pop();if(0===a.paths.length)a.remove();else{if(!a.canvas){_classPrivateMethodGet(a,G,_createCanvas2).call(a);_classPrivateMethodGet(a,j,_createObserver2).call(a)}_classPrivateMethodGet(a,Y,_fitToContent2).call(a)}},mustExec:!0})}