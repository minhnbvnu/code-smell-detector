function nbe(e,t,r){let{keyboardDelegate:n,isDisabled:i,isRequired:a,name:l,validationBehavior:s="aria"}=e,u=hd({usage:"search",sensitivity:"base"}),c=O.useMemo(()=>n||new LR(t.collection,t.disabledKeys,null,u),[n,t.collection,t.disabledKeys,u]),{menuTriggerProps:d,menuProps:f}=QR({isDisabled:i,type:"listbox"},t,r),h=E=>{switch(E.key){case"ArrowLeft":{E.preventDefault();let M=t.selectedKey!=null?c.getKeyAbove(t.selectedKey):c.getFirstKey();M&&t.setSelectedKey(M);break}case"ArrowRight":{E.preventDefault();let M=t.selectedKey!=null?c.getKeyBelow(t.selectedKey):c.getFirstKey();M&&t.setSelectedKey(M);break}}},{typeSelectProps:p}=xH({keyboardDelegate:c,selectionManager:t.selectionManager,onTypeSelect(E){t.setSelectedKey(E)}}),{isInvalid:m,validationErrors:g,validationDetails:b}=t.displayValidation,{labelProps:v,fieldProps:y,descriptionProps:$,errorMessageProps:x}=Zh({...e,labelElementType:"span",isInvalid:m,errorMessage:e.errorMessage||g});p.onKeyDown=p.onKeyDownCapture,delete p.onKeyDownCapture;let k=Kt(e,{labelable:!0}),C=$e(p,d,y),A=nr();return hre.set(t,{isDisabled:i,isRequired:a,name:l,validationBehavior:s}),{labelProps:{...v,onClick:()=>{e.isDisabled||(r.current.focus(),M1("keyboard"))}},triggerProps:$e(k,{...C,isDisabled:i,onKeyDown:vo(C.onKeyDown,h,e.onKeyDown),onKeyUp:e.onKeyUp,"aria-labelledby":[A,C["aria-labelledby"],C["aria-label"]&&!C["aria-labelledby"]?C.id:null].filter(Boolean).join(" "),onFocus(E){t.isFocused||(e.onFocus&&e.onFocus(E),e.onFocusChange&&e.onFocusChange(!0),t.setFocused(!0))},onBlur(E){t.isOpen||(e.onBlur&&e.onBlur(E),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))}}),valueProps:{id:A},menuProps:{...f,autoFocus:t.focusStrategy||!0,shouldSelectOnPressUp:!0,shouldFocusOnHover:!0,disallowEmptySelection:!0,linkBehavior:"selection",onBlur:E=>{E.currentTarget.contains(E.relatedTarget)||(e.onBlur&&e.onBlur(E),e.onFocusChange&&e.onFocusChange(!1),t.setFocused(!1))},"aria-labelledby":[y["aria-labelledby"],C["aria-label"]&&!y["aria-labelledby"]?C.id:null].filter(Boolean).join(" ")},descriptionProps:$,errorMessageProps:x,isInvalid:m,validationErrors:g,validationDetails:b}}