function lJ(t,e,n,i){const r=KY(t,e),a=r.isVertical(),o=YW(r.gradientThickness()),s=r.gradientLength();let u=r("labelOverlap"),l,f,c,h,d="";const p={enter:l={opacity:jY},update:f={opacity:WY,text:{field:wY}},exit:{opacity:jY}};VW(p,{fill:r("labelColor"),fillOpacity:r("labelOpacity"),font:r("labelFont"),fontSize:r("labelFontSize"),fontStyle:r("labelFontStyle"),fontWeight:r("labelFontWeight"),limit:tH(t.labelLimit,e.gradientLabelLimit)});if(a){l.align={value:"left"};l.baseline=f.baseline={signal:uJ};c="y";h="x";d="1-"}else{l.align=f.align={signal:sJ};l.baseline={value:"top"};c="x";h="y"}l[c]=f[c]={signal:d+"datum."+MY,mult:s};l[h]=f[h]=o;o.offset=tH(t.labelOffset,e.gradientLabelOffset)||0;u=u?{separation:r("labelSeparation"),method:u,order:"datum."+bY}:undefined;return rJ({type:VY,role:cX,style:DY,key:EY,from:i,encode:p,overlap:u},n)}