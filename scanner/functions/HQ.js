function HQ(e,t){e.handleLeftButtonPress=function(n){return t.activeState&&t.activeState.getActive()?(t.painting=!0,t.widgetState.addTrail().set(t.activeState.get("origin","up","right","direction","scale1")),e.invokeStartInteractionEvent(),Se.EVENT_ABORT):Se.VOID},e.handleMouseMove=function(t){return e.handleEvent(t)},e.handleLeftButtonRelease=function(){return t.painting&&(e.invokeEndInteractionEvent(),t.widgetState.clearTrailList()),t.painting=!1,t.hasFocus?Se.EVENT_ABORT:Se.VOID},e.handleEvent=function(n){if(t.manipulator&&t.activeState&&t.activeState.getActive()){var r,i,o,a=t.camera.getDirectionOfProjection(),s=t.camera.getViewUp(),l=[];co(l,s,a),(r=t.activeState).setUp.apply(r,y(s)),(i=t.activeState).setRight.apply(i,l),(o=t.activeState).setDirection.apply(o,y(a)),t.manipulator.setNormal(a);var u,c,d=t.manipulator.handleEvent(n,t.apiSpecificRenderWindow);if(d.length)if((u=t.widgetState).setTrueOrigin.apply(u,y(d)),(c=t.activeState).setOrigin.apply(c,y(d)),t.painting)t.widgetState.addTrail().set(t.activeState.get("origin","up","right","direction","scale1"));return e.invokeInteractionEvent(),Se.EVENT_ABORT}return Se.VOID},e.grabFocus=function(){if(!t.hasFocus){t.activeState=t.widgetState.getHandle(),t.activeState.activate(),t.interactor.requestAnimation(e);var n=t.apiSpecificRenderWindow.getCanvas();n.onmouseenter=function(){t.hasFocus&&t.activeState===t.widgetState.getHandle()&&t.activeState.setVisible(!0)},n.onmouseleave=function(){t.hasFocus&&t.activeState===t.widgetState.getHandle()&&t.activeState.setVisible(!1)}}t.hasFocus=!0},e.loseFocus=function(){t.hasFocus&&t.interactor.cancelAnimation(e),t.widgetState.deactivate(),t.widgetState.getHandle().deactivate(),t.activeState=null,t.hasFocus=!1},Se.get(e,t,["painting"])}