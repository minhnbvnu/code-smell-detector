function __os_lacing_expand($os,$needed) {
 $os = $os|0;
 $needed = $needed|0;
 var $$ = 0, $$0 = 0, $0 = 0, $1 = 0, $10 = 0, $11 = 0, $12 = 0, $13 = 0, $14 = 0, $15 = 0, $16 = 0, $17 = 0, $18 = 0, $19 = 0, $2 = 0, $20 = 0, $21 = 0, $22 = 0, $23 = 0, $24 = 0;
 var $25 = 0, $26 = 0, $27 = 0, $28 = 0, $29 = 0, $3 = 0, $30 = 0, $31 = 0, $32 = 0, $33 = 0, $34 = 0, $35 = 0, $36 = 0, $37 = 0, $38 = 0, $39 = 0, $4 = 0, $40 = 0, $41 = 0, $5 = 0;
 var $6 = 0, $7 = 0, $8 = 0, $9 = 0, label = 0, sp = 0;
 sp = STACKTOP;
 $0 = ((($os)) + 24|0);
 $1 = HEAP32[$0>>2]|0;
 $2 = (($1) - ($needed))|0;
 $3 = ((($os)) + 28|0);
 $4 = HEAP32[$3>>2]|0;
 $5 = ($2|0)>($4|0);
 if ($5) {
  $$0 = 0;
  return ($$0|0);
 }
 $6 = (2147483647 - ($needed))|0;
 $7 = ($1|0)>($6|0);
 if ($7) {
  $8 = HEAP32[$os>>2]|0;
  $9 = ($8|0)==(0|0);
  if (!($9)) {
   _free($8);
  }
  $10 = ((($os)) + 16|0);
  $11 = HEAP32[$10>>2]|0;
  $12 = ($11|0)==(0|0);
  if (!($12)) {
   _free($11);
  }
  $13 = ((($os)) + 20|0);
  $14 = HEAP32[$13>>2]|0;
  $15 = ($14|0)==(0|0);
  if (!($15)) {
   _free($14);
  }
  _memset(($os|0),0,360)|0;
  $$0 = -1;
  return ($$0|0);
 }
 $16 = (($1) + ($needed))|0;
 $17 = ($16|0)<(2147483615);
 $18 = (($16) + 32)|0;
 $$ = $17 ? $18 : $16;
 $19 = ((($os)) + 16|0);
 $20 = HEAP32[$19>>2]|0;
 $21 = $$ << 2;
 $22 = (_realloc($20,$21)|0);
 $23 = ($22|0)==(0|0);
 if ($23) {
  $24 = HEAP32[$os>>2]|0;
  $25 = ($24|0)==(0|0);
  if (!($25)) {
   _free($24);
  }
  $26 = HEAP32[$19>>2]|0;
  $27 = ($26|0)==(0|0);
  if (!($27)) {
   _free($26);
  }
  $28 = ((($os)) + 20|0);
  $29 = HEAP32[$28>>2]|0;
  $30 = ($29|0)==(0|0);
  if (!($30)) {
   _free($29);
  }
  _memset(($os|0),0,360)|0;
  $$0 = -1;
  return ($$0|0);
 }
 HEAP32[$19>>2] = $22;
 $31 = ((($os)) + 20|0);
 $32 = HEAP32[$31>>2]|0;
 $33 = $$ << 3;
 $34 = (_realloc($32,$33)|0);
 $35 = ($34|0)==(0|0);
 if (!($35)) {
  HEAP32[$31>>2] = $34;
  HEAP32[$0>>2] = $$;
  $$0 = 0;
  return ($$0|0);
 }
 $36 = HEAP32[$os>>2]|0;
 $37 = ($36|0)==(0|0);
 if (!($37)) {
  _free($36);
 }
 $38 = HEAP32[$19>>2]|0;
 $39 = ($38|0)==(0|0);
 if (!($39)) {
  _free($38);
 }
 $40 = HEAP32[$31>>2]|0;
 $41 = ($40|0)==(0|0);
 if (!($41)) {
  _free($40);
 }
 _memset(($os|0),0,360)|0;
 $$0 = -1;
 return ($$0|0);
}