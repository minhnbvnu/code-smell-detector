function compileTerminators(mode,language){var terminators=[];function addTerminator(re){if(!contains(terminators,re)){terminators[terminators.length]=re}};if(mode.contains)for(var i=0;i<language.modes.length;i++){if(contains(mode.contains,language.modes[i].className)){addTerminator(language.modes[i].begin)}};var index=modes.length-1;do{if(modes[index].end){addTerminator(modes[index].end)};index--}while(modes[index+1].endsWithParent);if(mode.illegal){addTerminator(mode.illegal)};var terminator_re='('+terminators[0];for(var i=0;i<terminators.length;i++)terminator_re+='|'+terminators[i];terminator_re+=')';return langRe(language,terminator_re)}