function Git(n){let t=this,e=null,i=0,r=!1,o=!1,s=new er,a=new bn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(h,p,d){let f=h.length!==0||p||i!==0||r;return r=p,e=u(h,d,0),i=h.length,f},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1,c()},this.setState=function(h,p,d){let f=h.clippingPlanes,m=h.clipIntersection,x=h.clipShadows,g=n.get(h);if(!r||f===null||f.length===0||o&&!x)o?u(null):c();else{let v=o?0:i,b=v*4,y=g.clippingState||null;l.value=y,y=u(f,p,b,d);for(let _=0;_!==b;++_)y[_]=e[_];g.clippingState=y,this.numIntersection=m?this.numPlanes:0,this.numPlanes+=v}};function c(){l.value!==e&&(l.value=e,l.needsUpdate=i>0),t.numPlanes=i,t.numIntersection=0}function u(h,p,d,f){let m=h!==null?h.length:0,x=null;if(m!==0){if(x=l.value,f!==!0||x===null){let g=d+m*4,v=p.matrixWorldInverse;a.getNormalMatrix(v),(x===null||x.length<g)&&(x=new Float32Array(g));for(let b=0,y=d;b!==m;++b,y+=4)s.copy(h[b]).applyMatrix4(v,a),s.normal.toArray(x,y),x[y+3]=s.constant}l.value=x,l.needsUpdate=!0}return t.numPlanes=m,t.numIntersection=0,x}}