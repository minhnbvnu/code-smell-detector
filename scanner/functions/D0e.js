function D0e(e,t){let{contentSize:r,onVisibleRectChange:n,children:i,innerStyle:a,sizeToFit:l,onScrollStart:s,onScrollEnd:u,scrollDirection:c="both",...d}=e,f=O.useRef();t=t||f;let h=O.useRef({scrollTop:0,scrollLeft:0,scrollEndTime:0,scrollTimeout:null,width:0,height:0,isScrolling:!1}).current,{direction:p}=pr(),[m,g]=O.useState(!1),b=O.useCallback(k=>{k.target===k.currentTarget&&(e.onScroll&&e.onScroll(k),x1.flushSync(()=>{let C=k.currentTarget.scrollTop,A=P0e(k.currentTarget,p);h.scrollTop=Math.max(0,Math.min(C,r.height-h.height)),h.scrollLeft=Math.max(0,Math.min(A,r.width-h.width)),n(new Nt(h.scrollLeft,h.scrollTop,h.width,h.height)),h.isScrolling||(h.isScrolling=!0,g(!0),s&&s());let E=Date.now();h.scrollEndTime<=E+50&&(h.scrollEndTime=E+300,clearTimeout(h.scrollTimeout),h.scrollTimeout=setTimeout(()=>{h.isScrolling=!1,g(!1),h.scrollTimeout=null,u&&u()},300))}))},[e,p,h,r,n,s,u]);O.useEffect(()=>()=>{clearTimeout(h.scrollTimeout)},[]);let v=O.useCallback(()=>{let k=t.current;if(!k)return;let C=k.clientWidth,A=k.clientHeight;l&&r.width>0&&r.height>0&&(l==="width"?C=Math.min(C,r.width):l==="height"&&(A=Math.min(A,r.height))),(h.width!==C||h.height!==A)&&(h.width=C,h.height=A,n(new Nt(h.scrollLeft,h.scrollTop,C,A)))},[n,t,h,l,r]);St(()=>{v()},[v]);let y=O.useRef();Lh({ref:t,onResize:()=>{var k,C;F0e?(C=(k=y).current)!==null&&C!==void 0||(k.current=requestAnimationFrame(()=>{v(),y.current=null})):v()}}),O.useEffect(()=>()=>{y.current&&cancelAnimationFrame(y.current)},[]);let x={padding:0,...d.style};return c==="horizontal"?(x.overflowX="auto",x.overflowY="hidden"):c==="vertical"||r.width===h.width?(x.overflowY="auto",x.overflowX="hidden"):x.overflow="auto",a={width:r.width,height:r.height,pointerEvents:m?"none":"auto",position:"relative",...a},S.createElement("div",{...d,style:x,ref:t,onScroll:b},S.createElement("div",{role:"presentation",style:a},i))}