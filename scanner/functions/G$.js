function G$(t){t=t||{};const e=t.allowed?(0,g.Rg)(t.allowed):{},n=t.forbidden?(0,g.Rg)(t.forbidden):{},i=t.constants||Y$,r=(t.functions||J$)(c),a=t.globalvar,o=t.fieldvar,s=(0,g.mf)(a)?a:t=>`${a}["${t}"]`;let u={},l={},f=0;function c(t){if((0,g.HD)(t))return t;const e=h[t.type];if(e==null)(0,g.vU)("Unsupported type: "+t.type);return e(t)}const h={Literal:t=>t.raw,Identifier:t=>{const r=t.name;if(f>0){return r}else if((0,g.nr)(n,r)){return(0,g.vU)("Illegal identifier: "+r)}else if((0,g.nr)(i,r)){return i[r]}else if((0,g.nr)(e,r)){return r}else{u[r]=1;return s(r)}},MemberExpression:t=>{const e=!t.computed,n=c(t.object);if(e)f+=1;const i=c(t.property);if(n===o){l[V$(i)]=1}if(e)f-=1;return n+(e?"."+i:"["+i+"]")},CallExpression:t=>{if(t.callee.type!=="Identifier"){(0,g.vU)("Illegal callee type: "+t.callee.type)}const e=t.callee.name,n=t.arguments,i=(0,g.nr)(r,e)&&r[e];if(!i)(0,g.vU)("Unrecognized function: "+e);return(0,g.mf)(i)?i(n):i+"("+n.map(c).join(",")+")"},ArrayExpression:t=>"["+t.elements.map(c).join(",")+"]",BinaryExpression:t=>"("+c(t.left)+" "+t.operator+" "+c(t.right)+")",UnaryExpression:t=>"("+t.operator+c(t.argument)+")",ConditionalExpression:t=>"("+c(t.test)+"?"+c(t.consequent)+":"+c(t.alternate)+")",LogicalExpression:t=>"("+c(t.left)+t.operator+c(t.right)+")",ObjectExpression:t=>"{"+t.properties.map(c).join(",")+"}",Property:t=>{f+=1;const e=c(t.key);f-=1;return e+":"+c(t.value)}};function d(t){const e={code:c(t),globals:Object.keys(u),fields:Object.keys(l)};u={};l={};return e}d.functions=r;d.constants=i;return d}