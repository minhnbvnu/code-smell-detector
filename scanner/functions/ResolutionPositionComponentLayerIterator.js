function ResolutionPositionComponentLayerIterator(t){var r,o,c,l,u=t.SIZ,d=t.currentTile.index,g=t.tiles[d],y=g.codingStyleDefaultParameters.layersCount,m=u.Csiz,v=0;for(c=0;c<m;c++){var w=g.components[c];v=Math.max(v,w.codingStyleParameters.decompositionLevelsCount)}var _=new Int32Array(v+1);for(o=0;o<=v;++o){var k=0;for(c=0;c<m;++c){var S=g.components[c].resolutions;o<S.length&&(k=Math.max(k,S[o].precinctParameters.numprecincts))}_[o]=k}r=0;o=0;c=0;l=0;this.nextPacket=function JpxImage_nextPacket(){for(;o<=v;o++){for(;l<_[o];l++){for(;c<m;c++){var t=g.components[c];if(!(o>t.codingStyleParameters.decompositionLevelsCount)){var u=t.resolutions[o],d=u.precinctParameters.numprecincts;if(!(l>=d)){for(;r<y;){var w=createPacket(u,l,r);r++;return w}r=0}}}c=0}l=0}throw new h("Out of packets")}}