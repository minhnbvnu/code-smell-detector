function Uge(e,t){let r=!0,n=O.useContext(UR),i=zge(),{rootMenuTriggerState:a,state:l}=i||{rootMenuTriggerState:n.state};i||(r=!1);let s={...$e(n,e)},u=Yr(t),c=O.useRef(null),d=O.useRef(null),f=fge(s),h=O.useRef(null),{menuProps:p}=rge(s,f,u),{styleProps:m}=_t(s);A1(n,u);let[g,b]=O.useState({left:0});O.useEffect(()=>{if(c.current){let{left:x}=c.current.getBoundingClientRect();b({left:-1*x})}},[]);var v;let y=(v=n.submenuLevel)!==null&&v!==void 0?v:-1,$=f.collection.getItem(a==null?void 0:a.UNSTABLE_expandedKeysStack[y+1])!=null;return S.createElement(IH.Provider,{value:{popoverContainerRef:c,trayContainerRef:d,menu:u,submenu:h,rootMenuTriggerState:a,state:f}},S.createElement("div",{style:{height:$?"100%":void 0},ref:d}),S.createElement(jh,null,S.createElement(qge,{onBackButtonPress:n.onBackButtonPress,hasOpenSubmenu:$,isSubmenu:r,parentMenuTreeState:l,rootMenuTriggerState:a},S.createElement("div",{...p,style:$e(m.style,p.style),ref:u,className:z(Jr(Me),"spectrum-Menu",m.className)},[...f.collection].map(x=>{if(x.type==="section")return S.createElement(Zge,{key:x.key,item:x,state:f,onAction:s.onAction});let k=S.createElement(MH,{key:x.key,item:x,state:f,onAction:s.onAction});return x.wrapper&&(k=x.wrapper(k)),k}))),(a==null?void 0:a.isOpen)&&S.createElement("div",{ref:c,style:{width:"100vw",position:"absolute",top:-5,...g}})))}