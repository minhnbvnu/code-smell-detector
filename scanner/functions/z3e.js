function z3e(e){var t=e.position,r,i,a,n=!1,s;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(s=e.input.charCodeAt(e.position))!==0&&(Xi(e,!0,-1),s=e.input.charCodeAt(e.position),!(e.lineIndent>0||s!==37));){for(n=!0,s=e.input.charCodeAt(++e.position),r=e.position;s!==0&&!Ln(s);)s=e.input.charCodeAt(++e.position);for(i=e.input.slice(r,e.position),a=[],i.length<1&&It(e,"directive name must not be less than one character in length");s!==0;){for(;wc(s);)s=e.input.charCodeAt(++e.position);if(s===35){do s=e.input.charCodeAt(++e.position);while(s!==0&&!jo(s));break}if(jo(s))break;for(r=e.position;s!==0&&!Ln(s);)s=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}s!==0&&vw(e),Kl.call(WM,i)?WM[i](e,i,a):Sy(e,'unknown document directive "'+i+'"')}if(Xi(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Xi(e,!0,-1)):n&&It(e,"directives end mark is expected"),Md(e,e.lineIndent-1,wy,!1,!0),Xi(e,!0,-1),e.checkLineBreaks&&k3e.test(e.input.slice(t,e.position))&&Sy(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ey(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Xi(e,!0,-1));return}if(e.position<e.length-1)It(e,"end of the stream or a document separator is expected");else return}