function mae(e,t,r){var n;let i,a,l;return r?(i=t.changes,a=yn.empty(t.changes.length),l=e.changes.compose(t.changes)):(i=t.changes.map(e.changes),a=e.changes.mapDesc(t.changes,!0),l=e.changes.compose(i)),{changes:l,selection:t.selection?t.selection.map(a):(n=e.selection)===null||n===void 0?void 0:n.map(i),effects:Ar.mapEffects(e.effects,i).concat(Ar.mapEffects(t.effects,a)),annotations:e.annotations.length?e.annotations.concat(t.annotations):t.annotations,scrollIntoView:e.scrollIntoView||t.scrollIntoView}}