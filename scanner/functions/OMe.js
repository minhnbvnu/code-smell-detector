function OMe(e){var t=cs(this._getId(e)),r={"":t},n={"":t1(t,!1)},i={},a=this;return gMe(e,{allKeys:!0},function(l,s,u,c,d,f,h){if(s!==""){var p=a._getId(l),m=r[c],g=n[c]+"/"+d;if(h!==void 0&&(g+="/"+(typeof h=="number"?h:Fb.escapeFragment(h))),typeof p=="string"){p=m=cs(m?cp.resolve(m,p):p);var b=a._refs[p];if(typeof b=="string"&&(b=a._refs[b]),b&&b.schema){if(!cz(l,b.schema))throw new Error('id "'+p+'" resolves to more than one schema')}else if(p!=cs(g))if(p[0]=="#"){if(i[p]&&!cz(l,i[p]))throw new Error('id "'+p+'" resolves to more than one schema');i[p]=l}else a._refs[p]=g}r[s]=m,n[s]=g}}),i}