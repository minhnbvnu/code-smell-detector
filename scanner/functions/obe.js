function obe(e,t){e=Ta(e,"picker"),e=En(e),e=To(e);let r=ar(La(pre),"@react-spectrum/picker"),{autoComplete:n,isDisabled:i,direction:a="bottom",align:l="start",shouldFlip:s=!0,placeholder:u=r.format("placeholder"),isQuiet:c,label:d,labelPosition:f="top",menuWidth:h,name:p,autoFocus:m}=e,g=lbe(e),b=Yr(t),v=O.useRef(),y=O.useRef(),$=Vg(y),x=O.useRef(),k=e.isLoading&&g.collection.size===0,C=e.isLoading&&g.collection.size>0,A=nr(),E=GR(g,C),{labelProps:M,triggerProps:D,valueProps:T,menuProps:B,descriptionProps:R,errorMessageProps:_,isInvalid:V,validationErrors:W,validationDetails:Z}=nbe({...e,"aria-describedby":k?A:void 0,keyboardDelegate:E},g,$),K=Vh(),{hoverProps:q,isHovered:F}=wr({isDisabled:i}),j=S.createElement(XR,{...B,ref:x,disallowEmptySelection:!0,autoFocus:g.focusStrategy||!0,shouldSelectOnPressUp:!0,focusOnPointerEnter:!0,layout:E,state:g,width:K?"100%":void 0,UNSAFE_style:{maxHeight:"inherit"},isLoading:e.isLoading,onLoadMore:e.onLoadMore}),[Q,I]=O.useState(null),{scale:U}=Gn(),ee=O.useCallback(()=>{if(!K&&$.current){let ge=$.current.offsetWidth;I(ge)}},[$,I,K]);Lh({ref:$,onResize:ee}),St(ee,[U,g.selectedKey,ee]);let ue;if(K)ue=S.createElement(V1,{state:g},j);else{let Te={width:h?Bt(h):c?null:Q,minWidth:c?`calc(${Q}px + calc(2 * var(--spectrum-dropdown-quiet-offset)))`:Q};ue=S.createElement(Q1,{UNSAFE_style:Te,UNSAFE_className:z(La(Qt),"spectrum-Dropdown-popover",{"spectrum-Dropdown-popover--quiet":c}),ref:v,placement:`${a} ${l}`,shouldFlip:s,hideArrow:!0,state:g,triggerRef:$,scrollRef:x},j)}let se=g.selectedItem?g.selectedItem.rendered:u;typeof se=="string"&&(se=S.createElement(Uh,null,se));let Se=S.createElement("div",{className:z(La(Qt),"spectrum-Dropdown",{"is-invalid":V&&!i,"is-disabled":i,"spectrum-Dropdown--quiet":c})},S.createElement(abe,{autoComplete:n,isDisabled:i,state:g,triggerRef:$,label:d,name:p}),S.createElement(R1,$e(q,D),S.createElement(iq,{ref:y,isActive:g.isOpen,isQuiet:c,isDisabled:i,isInvalid:V,autoFocus:m,UNSAFE_className:z(La(Qt),"spectrum-Dropdown-trigger",{"is-hovered":F})},S.createElement(Ra,{slots:{icon:{UNSAFE_className:z(La(Qt),"spectrum-Icon"),size:"S"},avatar:{UNSAFE_className:z(La(Qt),"spectrum-Dropdown-avatar"),size:"avatar-size-100"},text:{...T,UNSAFE_className:z(La(Qt),"spectrum-Dropdown-label",{"is-placeholder":!g.selectedItem})},description:{isHidden:!0}}},se),k&&S.createElement(pd,{id:A,isIndeterminate:!0,size:"S","aria-label":r.format("loading"),UNSAFE_className:z(La(Qt),"spectrum-Dropdown-progressCircle")}),V&&!k&&!i&&S.createElement(Z1,{UNSAFE_className:z(La(Qt),"spectrum-Dropdown-invalidIcon")}),S.createElement(N1,{UNSAFE_className:z(La(Qt),"spectrum-Dropdown-chevron")}))),g.collection.size===0?null:ue),nt=d?z(La(Qt),"spectrum-Field",{"spectrum-Dropdown-fieldWrapper--quiet":c,"spectrum-Dropdown-fieldWrapper--positionSide":f==="side"}):"";return S.createElement(Ru,{...e,ref:b,wrapperClassName:nt,labelProps:M,descriptionProps:R,errorMessageProps:_,isInvalid:V,validationErrors:W,validationDetails:Z,showErrorIcon:!1,includeNecessityIndicatorInAccessibilityName:!0,elementType:"span"},Se)}