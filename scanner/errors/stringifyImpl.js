function stringifyImpl(o,s,u){var C,_,w;switch(o.type){case i.NullableLiteral:C="?";break;case i.AllLiteral:C="*";break;case i.NullLiteral:C="null";break;case i.UndefinedLiteral:C="undefined";break;case i.VoidLiteral:C="void";break;case i.UnionType:for(C=u?"":"(",_=0,w=o.elements.length;_<w;++_)C+=stringifyImpl(o.elements[_],s),_+1!==w&&(C+=s?"|":" | ");u||(C+=")");break;case i.ArrayType:for(C="[",_=0,w=o.elements.length;_<w;++_)C+=stringifyImpl(o.elements[_],s),_+1!==w&&(C+=s?",":", ");C+="]";break;case i.RecordType:for(C="{",_=0,w=o.fields.length;_<w;++_)C+=stringifyImpl(o.fields[_],s),_+1!==w&&(C+=s?",":", ");C+="}";break;case i.FieldType:C=o.value?o.key+(s?":":": ")+stringifyImpl(o.value,s):o.key;break;case i.FunctionType:for(C=s?"function(":"function (",o.this&&(o.new?C+=s?"new:":"new: ":C+=s?"this:":"this: ",C+=stringifyImpl(o.this,s),0!==o.params.length&&(C+=s?",":", ")),_=0,w=o.params.length;_<w;++_)C+=stringifyImpl(o.params[_],s),_+1!==w&&(C+=s?",":", ");C+=")",o.result&&(C+=(s?":":": ")+stringifyImpl(o.result,s));break;case i.ParameterType:C=o.name+(s?":":": ")+stringifyImpl(o.expression,s);break;case i.RestType:C="...",o.expression&&(C+=stringifyImpl(o.expression,s));break;case i.NonNullableType:C=o.prefix?"!"+stringifyImpl(o.expression,s):stringifyImpl(o.expression,s)+"!";break;case i.OptionalType:C=stringifyImpl(o.expression,s)+"=";break;case i.NullableType:C=o.prefix?"?"+stringifyImpl(o.expression,s):stringifyImpl(o.expression,s)+"?";break;case i.NameExpression:C=o.name;break;case i.TypeApplication:for(C=stringifyImpl(o.expression,s)+".<",_=0,w=o.applications.length;_<w;++_)C+=stringifyImpl(o.applications[_],s),_+1!==w&&(C+=s?",":", ");C+=">";break;case i.StringLiteralType:C='"'+o.value+'"';break;case i.NumericLiteralType:case i.BooleanLiteralType:C=String(o.value);break;default:V.throwError("Unknown type "+o.type)}return C}