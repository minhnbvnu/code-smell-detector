function generateAndReport(t,o,l,c,u,d){var h,p,v;h=function generateBezier(t,r,o,l){var c,u,d,h,p,v,y,g,_,m,b,A,k,P,S,w,x,C=t[0],T=t[t.length-1];c=[C,null,null,T];u=a.zeros_Xx2x2(r.length);for(k=0,P=r.length;k<P;k++){x=1-(w=r[k]);(d=u[k])[0]=a.mulItems(o,3*w*(x*x));d[1]=a.mulItems(l,3*x*(w*w))}h=[[0,0],[0,0]];p=[0,0];for(k=0,P=t.length;k<P;k++){w=r[k];d=u[k];h[0][0]+=a.dot(d[0],d[0]);h[0][1]+=a.dot(d[0],d[1]);h[1][0]+=a.dot(d[0],d[1]);h[1][1]+=a.dot(d[1],d[1]);S=a.subtract(t[k],i.q([C,C,T,T],w));p[0]+=a.dot(d[0],S);p[1]+=a.dot(d[1],S)}v=h[0][0]*h[1][1]-h[1][0]*h[0][1];y=h[0][0]*p[1]-h[1][0]*p[0];g=p[0]*h[1][1]-p[1]*h[0][1];_=0===v?0:g/v;m=0===v?0:y/v;A=a.vectorLen(a.subtract(C,T));if(_<(b=1e-6*A)||m<b){c[1]=a.addArrays(C,a.mulItems(o,A/3));c[2]=a.addArrays(T,a.mulItems(l,A/3))}else{c[1]=a.addArrays(C,a.mulItems(o,_));c[2]=a.addArrays(T,a.mulItems(l,m))}return c}(t,l,c,u);var y=function computeMaxError(t,o,l){var c,u,d,h,p,v,y,g;u=0;d=Math.floor(t.length/2);var _=r(o,10);for(p=0,v=t.length;p<v;p++){y=t[p];g=find_t(o,l[p],_,10);if((c=(h=a.subtract(i.q(o,g),y))[0]*h[0]+h[1]*h[1])>u){u=c;d=p}}return[u,d]}(t,h,o),g=_slicedToArray(y,2);p=g[0];v=g[1];d&&d({bez:h,points:t,params:o,maxErr:p,maxPoint:v});return[h,p,v]}