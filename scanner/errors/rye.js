function rye(e,t){var r;e=En(e);let{isQuiet:n,onAction:i,onResizeStart:a,onResizeEnd:l,dragAndDropHooks:s,state:u}=e,c=!!(s!=null&&s.useDraggableCollectionState),d=!!(s!=null&&s.useDroppableCollectionState),f=O.useRef(c),h=O.useRef(d);O.useEffect(()=>{f.current!==c&&console.warn("Drag hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),h.current!==d&&console.warn("Drop hooks were provided during one render, but not another. This should be avoided as it may produce unexpected behavior."),"expandedKeys"in u&&(c||d)&&console.warn("Drag and drop is not yet fully supported with expandable rows and may produce unexpected results.")},[c,d,u]);let{styleProps:p}=_t(e),{direction:m}=pr(),{scale:g}=Gn();const b=O.useCallback(({props:{hideHeader:Ce,isSelectionCell:xe,showDivider:Ue,isDragButtonCell:qe}})=>{if(Ce){let ot=G_[g];return Ue?ot+1:ot}else{if(xe)return X_[g];if(qe)return J_[g]}},[g]),v=O.useCallback(({props:{hideHeader:Ce,isSelectionCell:xe,showDivider:Ue,isDragButtonCell:qe}})=>{if(Ce){let ot=G_[g];return Ue?ot+1:ot}else{if(xe)return X_[g];if(qe)return J_[g]}return 75},[g]);let[y,$]=O.useState(!1),[,x]=O.useState(!1),k=Yr(t),C=O.useRef(),A=O.useRef(),E=ar(Ne(gd),"@react-spectrum/table"),M=e.density||"regular",D=O.useMemo(()=>new Mbe({getDefaultWidth:b,getDefaultMinWidth:v}),[b,v]),T=O.useMemo(()=>new E0e({rowHeight:e.overflowMode==="wrap"?null:Xy[M][g],estimatedRowHeight:e.overflowMode==="wrap"?Xy[M][g]:null,headingHeight:e.overflowMode==="wrap"?null:Y_[g],estimatedHeadingHeight:e.overflowMode==="wrap"?Y_[g]:null,columnLayout:D,initialCollection:u.collection}),[e.overflowMode,g,M,D]),B=O.useMemo(()=>new Proxy(T,{get(xe,Ue,qe){return Ue==="tableState"?u:Reflect.get(xe,Ue,qe)}}),[u,T]),R,_=O.useRef(null);c&&(R=s.useDraggableCollectionState({collection:u.collection,selectionManager:u.selectionManager,preview:_}),s.useDraggableCollection({},R,k));let V=s==null?void 0:s.DragPreview,W,Z,K;d&&(W=s.useDroppableCollectionState({collection:u.collection,selectionManager:u.selectionManager}),Z=s.useDroppableCollection({keyboardDelegate:B,dropTargetDelegate:B},W,k),K=W.isDropTarget({type:"root"}));let{gridProps:q}=jbe({...e,isVirtualized:!0,layout:B,onRowAction:i},u,k),[F,j]=O.useState(!1),[Q,I]=O.useState(!1),U=(Ce,xe,Ue,qe)=>{let ot=Qv(xe.layoutInfo,m,Ce&&Ce.layoutInfo);if(ot.overflow==="hidden"&&(ot.overflow="visible"),xe.viewType==="rowgroup")return S.createElement(cye,{key:xe.key,style:ot},d&&S.createElement(Jbe,{key:"root"}),qe(Ue));if(xe.viewType==="header")return S.createElement(iye,{key:xe.key,style:ot},qe(Ue));if(xe.viewType==="row")return S.createElement(hye,{key:xe.key,item:xe.content,style:ot,hasActions:i,isTableDroppable:d,isTableDraggable:c},qe(Ue));if(xe.viewType==="headerrow")return S.createElement(pye,{onHoverChange:I,key:xe.key,style:ot,item:xe.content},qe(Ue));let re,pe;return d&&(Ce.content&&(re=W.isDropTarget({type:"item",dropPosition:"on",key:Ce.content.key})),pe=W.isDropTarget({type:"root"})),S.createElement(KR,{key:xe.key,layoutInfo:xe.layoutInfo,virtualizer:xe.virtualizer,parent:Ce==null?void 0:Ce.layoutInfo,className:z(Ne(me),"spectrum-Table-cellWrapper",z(Ne(wt),{"react-spectrum-Table-cellWrapper":!xe.layoutInfo.estimatedSize,"react-spectrum-Table-cellWrapper--dropTarget":re||pe}))},xe.rendered)},ee=(Ce,xe)=>{switch(Ce){case"header":case"rowgroup":case"section":case"row":case"headerrow":return null;case"cell":return xe.props.isSelectionCell?S.createElement(gye,{cell:xe}):xe.props.isDragButtonCell?S.createElement(mye,{cell:xe}):S.createElement(vye,{cell:xe});case"placeholder":return S.createElement("div",{role:"gridcell","aria-colindex":xe.index+1,"aria-colspan":xe.colspan>1?xe.colspan:null});case"column":return xe.props.isSelectionCell?S.createElement(sye,{column:xe}):xe.props.isDragButtonCell?S.createElement(uye,{column:xe}):xe.props.hideHeader?S.createElement(Iv,{placement:"top",trigger:"focus"},S.createElement(tN,{column:xe}),S.createElement(Rv,{placement:"top"},xe.rendered)):xe.props.allowsResizing&&!xe.hasChildNodes?S.createElement(oye,{tableRef:k,column:xe}):S.createElement(tN,{column:xe});case"loader":return S.createElement(rN,null,S.createElement(pd,{isIndeterminate:!0,"aria-label":u.collection.size>0?E.format("loadingMore"):E.format("loading")}));case"empty":{let Ue=e.renderEmptyState?e.renderEmptyState():null;return Ue==null?null:S.createElement(rN,null,Ue)}}},[ue,se]=O.useState(!1),[Se,nt]=O.useState(!1),ge=O.useRef({x:0,y:0,width:0,height:0}),Te=O.useCallback(Ce=>{ge.current.width===Ce.width&&ge.current.height===Ce.height||(ge.current=Ce,A.current&&(se(A.current.clientWidth+2<A.current.offsetWidth),nt(A.current.clientHeight+2<A.current.offsetHeight)))},[]),{isFocusVisible:jt,focusProps:Et}=Uc(),mt=u.collection.size===0,Wt=()=>{A.current.scrollLeft=C.current.scrollLeft},Lt=O.useCallback(Ce=>{x(!0),a==null||a(Ce)},[x,a]),Zt=O.useCallback(Ce=>{$(!1),x(!1),l==null||l(Ce)},[l,$,x]),it=u.selectionManager.focusedKey;(W==null||(r=W.target)===null||r===void 0?void 0:r.type)==="item"&&(it=W.target.key);let we=$e(d&&(Z==null?void 0:Z.collectionProps),q,Et,(s==null?void 0:s.isVirtualDragging())&&{tabIndex:null});return S.createElement(Hne.Provider,{value:{state:u,dragState:R,dropState:W,dragAndDropHooks:s,isTableDraggable:c,isTableDroppable:d,layout:B,onResizeStart:Lt,onResize:e.onResize,onResizeEnd:Zt,headerRowHovered:Q,isInResizeMode:y,setIsInResizeMode:$,isEmpty:mt,onFocusedResizer:Wt,headerMenuOpen:F,setHeaderMenuOpen:j}},S.createElement(nye,{...we,...p,className:z(Ne(me),"spectrum-Table",`spectrum-Table--${M}`,{"spectrum-Table--quiet":n,"spectrum-Table--wrap":e.overflowMode==="wrap","spectrum-Table--loadingMore":u.collection.body.props.loadingState==="loadingMore","spectrum-Table--isVerticalScrollbarVisible":ue,"spectrum-Table--isHorizontalScrollbarVisible":Se},z(Ne(wt),"react-spectrum-Table"),p.className),layout:B,collection:u.collection,focusedKey:it,renderView:ee,renderWrapper:U,onVisibleRectChange:Te,domRef:k,headerRef:C,bodyRef:A,isFocusVisible:jt,isVirtualDragging:s==null?void 0:s.isVirtualDragging(),isRootDropTarget:K}),V&&c&&S.createElement(V,{ref:_},()=>{if(s.renderPreview)return s.renderPreview(R.draggingKeys,R.draggedKey);let Ce=R.draggingKeys.size,xe=A.current.getBoundingClientRect().width,Ue=Xy[M][g],qe=u.collection.getTextValue(R.draggedKey);return S.createElement(eye,{itemText:qe,itemCount:Ce,height:Ue,maxWidth:xe})}))}