function kTe(e){function t(o){let u=[],l=-1,p=-1,c=[],f=[],d={vendor:"",model:"",bus:"",vram:-1,vramDynamic:!1},m={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1};for(let h=0;h<o.length;h++)if(o[h].trim()!==""){let g=o[h].search(/\S|$/);u.indexOf(g)===-1&&u.push(g),l=u.indexOf(g),l<p&&(Object.keys(d).length>0&&(c.push(d),d={vendor:"",model:"",bus:"",vram:-1,vramDynamic:!1}),Object.keys(m).length>0&&(f.push(m),m={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1})),p=l;let x=o[h].split(":");if(l===2&&(x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("chipsetmodel")!==-1&&(d.model=x[1].trim()),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("bus")!==-1&&(d.bus=x[1].trim()),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("vendor")!==-1&&(d.vendor=x[1].split("(")[0].trim()),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("vram(total)")!==-1&&(d.vram=parseInt(x[1]),x[1].toLowerCase().indexOf("gb")!==-1&&(d.vram=d.vram*1024),d.vramDynamic=!1),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("vram(dynamic,max)")!==-1&&(d.vram=parseInt(x[1]),x[1].toLowerCase().indexOf("gb")!==-1&&(d.vram=d.vram*1024),d.vramDynamic=!0)),l===3&&x.length>1&&x[1]===""&&(m.vendor="",m.model=x[0].trim(),m.main=!1,m.builtin=!1,m.connection="",m.sizex=-1,m.sizey=-1,m.positionX=0,m.positionY=0,m.pixeldepth=-1),l===4){if(x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("resolution")!==-1){let S=x[1].split("x");m.resolutionx=S.length>1?parseInt(S[0]):0,m.resolutiony=S.length>1?parseInt(S[1]):0,m.currentResX=m.resolutionx,m.currentResY=m.resolutiony}x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("pixeldepth")!==-1&&(m.pixeldepth=parseInt(x[1])),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("framebufferdepth")!==-1&&(m.pixeldepth=parseInt(x[1])),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("maindisplay")!==-1&&x[1].replace(/ +/g,"").toLowerCase()==="yes"&&(m.main=!0),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("built-in")!==-1&&x[1].replace(/ +/g,"").toLowerCase()==="yes"&&(m.builtin=!0,m.connection=""),x.length>1&&x[0].replace(/ +/g,"").toLowerCase().indexOf("connectiontype")!==-1&&(m.builtin=!1,m.connection=x[1].trim())}}return Object.keys(d).length>0&&c.push(d),Object.keys(m).length>0&&f.push(m),{controllers:c,displays:f}}function r(o){let u=[],l={vendor:"",model:"",bus:"",vram:-1,vramDynamic:!1},p=!1,c=[];try{c=xTe('export LC_ALL=C; dmidecode -t 9 2>/dev/null; unset LC_ALL | grep "Bus Address: "').toString().split(`
`);for(let f=0;f<c.length;f++)c[f]=c[f].replace("Bus Address:","").replace("0000:","").trim();c=c.filter(function(f){return f!=null&&f})}catch{kt.noop()}for(let f=0;f<o.length;f++)if(o[f].trim()!==""){if(o[f][0]!==" "&&o[f][0]!=="	"){let d=c.indexOf(o[f].split(" ")[0])>=0,m=o[f].toLowerCase().indexOf(" vga "),h=o[f].toLowerCase().indexOf("3d controller");if(m!==-1||h!==-1){h!==-1&&m===-1&&(m=h),(l.vendor||l.model||l.bus||l.vram!==-1||l.vramDynamic)&&(u.push(l),l={vendor:"",model:"",bus:"",vram:-1,vramDynamic:!1}),p=!0;let g=o[f].search(/\[[0-9a-f]{4}:[0-9a-f]{4}]|$/),x=o[f].substr(m,g-m).split(":");x.length>1&&(x[1]=x[1].trim(),x[1].toLowerCase().indexOf("corporation")>=0?(l.vendor=x[1].substr(0,x[1].toLowerCase().indexOf("corporation")+11).trim(),l.model=x[1].substr(x[1].toLowerCase().indexOf("corporation")+11,200).trim().split("(")[0],l.bus=c.length>0&&d?"PCIe":"Onboard",l.vram=-1,l.vramDynamic=!1):x[1].toLowerCase().indexOf(" inc.")>=0?((x[1].match(new RegExp("]","g"))||[]).length>1?(l.vendor=x[1].substr(0,x[1].toLowerCase().indexOf("]")+1).trim(),l.model=x[1].substr(x[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(l.vendor=x[1].substr(0,x[1].toLowerCase().indexOf(" inc.")+5).trim(),l.model=x[1].substr(x[1].toLowerCase().indexOf(" inc.")+5,200).trim().split("(")[0].trim()),l.bus=c.length>0&&d?"PCIe":"Onboard",l.vram=-1,l.vramDynamic=!1):x[1].toLowerCase().indexOf(" ltd.")>=0&&((x[1].match(new RegExp("]","g"))||[]).length>1?(l.vendor=x[1].substr(0,x[1].toLowerCase().indexOf("]")+1).trim(),l.model=x[1].substr(x[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(l.vendor=x[1].substr(0,x[1].toLowerCase().indexOf(" ltd.")+5).trim(),l.model=x[1].substr(x[1].toLowerCase().indexOf(" ltd.")+5,200).trim().split("(")[0].trim())))}else p=!1}if(p){let d=o[f].split(":");if(d.length>1&&d[0].replace(/ +/g,"").toLowerCase().indexOf("devicename")!==-1&&d[1].toLowerCase().indexOf("onboard")!==-1&&(l.bus="Onboard"),d.length>1&&d[0].replace(/ +/g,"").toLowerCase().indexOf("region")!==-1&&d[1].toLowerCase().indexOf("memory")!==-1){let m=d[1].split("=");m.length>1&&(l.vram=parseInt(m[1]))}}}return(l.vendor||l.model||l.bus||l.vram!==-1||l.vramDynamic)&&u.push(l),u}function i(o){let u={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1},l=108;if(o.substr(l,6)==="000000"&&(l+=36),o.substr(l,6)==="000000"&&(l+=36),o.substr(l,6)==="000000"&&(l+=36),o.substr(l,6)==="000000"&&(l+=36),u.resolutionx=parseInt("0x0"+o.substr(l+8,1)+o.substr(l+4,2)),u.resolutiony=parseInt("0x0"+o.substr(l+14,1)+o.substr(l+10,2)),u.sizex=parseInt("0x0"+o.substr(l+28,1)+o.substr(l+24,2)),u.sizey=parseInt("0x0"+o.substr(l+29,1)+o.substr(l+26,2)),l=o.indexOf("000000fc00"),l>=0){let p=o.substr(l+10,26);p.indexOf("0a")!==-1&&(p=p.substr(0,p.indexOf("0a")));try{p.length>2&&(u.model=p.match(/.{1,2}/g).map(function(c){return String.fromCharCode(parseInt(c,16))}).join(""))}catch{kt.noop()}}else u.model="";return u}function a(o,u){let l=[],p={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1},c=!1,f=!1,d="",m=0;for(let h=1;h<o.length;h++)if(o[h].trim()!==""){if(o[h][0]!==" "&&o[h][0]!=="	"&&o[h].toLowerCase().indexOf(" connected ")!==-1){(p.model||p.main||p.builtin||p.connection||p.sizex!==-1||p.pixeldepth!==-1||p.resolutionx!==-1)&&(l.push(p),p={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizex:-1,sizey:-1,pixeldepth:-1,resolutionx:-1,resolutiony:-1,currentResX:-1,currentResY:-1,positionX:0,positionY:0,currentRefreshRate:-1});let g=o[h].split(" ");p.connection=g[0],p.main=o[h].toLowerCase().indexOf(" primary ")>=0,p.builtin=g[0].toLowerCase().indexOf("edp")>=0}if(c)if(o[h].search(/\S|$/)>m)d+=o[h].toLowerCase().trim();else{let g=i(d);p.vendor=g.vendor,p.model=g.model,p.resolutionx=g.resolutionx,p.resolutiony=g.resolutiony,p.sizex=g.sizex,p.sizey=g.sizey,p.pixeldepth=u,c=!1}if(o[h].toLowerCase().indexOf("edid:")>=0&&(c=!0,m=o[h].search(/\S|$/)),o[h].toLowerCase().indexOf("*current")>=0){let g=o[h].split("(");if(g&&g.length>1&&g[0].indexOf("x")>=0){let x=g[0].trim().split("x");p.currentResX=kt.toInt(x[0]),p.currentResY=kt.toInt(x[1])}f=!0}if(f&&o[h].toLowerCase().indexOf("clock")>=0&&o[h].toLowerCase().indexOf("hz")>=0&&o[h].toLowerCase().indexOf("v: height")>=0){let g=o[h].split("clock");g&&g.length>1&&g[1].toLowerCase().indexOf("hz")>=0&&(p.currentRefreshRate=kt.toInt(g[1])),f=!1}}return(p.model||p.main||p.builtin||p.connection||p.sizex!==-1||p.pixeldepth!==-1||p.resolutionx!==-1)&&l.push(p),l}return new Promise(o=>{process.nextTick(()=>{let u={controllers:[],displays:[]};if(wTe&&Qh("system_profiler SPDisplaysDataType",function(p,c){if(!p){let f=c.toString().split(`