function doReplace(cm, confirm, global, lineStart, lineEnd, searchCursor, query,